/*! Copyright 2014 SoftCafe, LLC. Use of any code on this site or the imenupro app is forbidden. */
function createJSON(){var t=getItem("menufile"),u=t.food_item.order,n={},a=_.pluck(t.head_item.header,"head_id"),f=getItem("fooditem"),v=_.pluck(f,"food_id"),r=getItem("origCSS"),y=getItem("override.css"),e,i,o,s,h,c,l;return jQuery.extend(!0,r,y),e=r[".price-options"].layout,_.each(u,function(i){i.indexOf("h")>-1?(n[i+""]=t.head_item.header[_.indexOf(a,i+"")],n[i+""].sym_bin=decodeURIComponent(t.head_item[i+""].replace(/^((?:[^;]*;){1})([^;]*)(.*)$/,"$1$2").replace(/none/g,"")),n[i+""].justification=t.head_item[i+""].indexOf("right")>-1?"right":"other"):(n[i+""]=JSON.parse(JSON.stringify(f[_.indexOf(v,i+"")]).replace(/%0A|%0D/g,"%20")),n[i+""].price=e==="hidden"?"":n[i+""].price.replace(/;/,"%3B"),n[i+""].sym_bin=t.food_item[i+""].replace(/^((?:[^;]*;){2})([^;]*)(.*)$/,"$1$2").replace(/none;/g,";"),n[i+""].foodpic=t.food_item[i+""].replace(/^((?:[^;]*;){12})([^;]*)(.*)$/g,"$2"),delete n[i+""].notes)}),Object.keys(t.float_text).length>1&&(i=[],n.float_text={},o={page:"asc",y:"asc"},_.each(t.float_text,function(n){return i.push({id:n.float_id,page:n.page_no,y:parseFloat(n.param.split(";")[6])})}),i.shift(),s=i.numSort(o),_.each(s,function(i){n.float_text[i.id]=t.float_text[i.id]})),t.foot_item.footer.length>0&&t.foot_item.onmenu==1&&(n.footer={},n.footer.text=t.foot_item.footer,n.footer.sym_bin=decodeURIComponent(t.foot_item.foot_tweaks.replace(/^((?:[^;]*;){1})([^;]*)(.*)$/,"$1$2").replace(/none/g,"")),h=t.foot_item.foot_tweaks,c=h.split(";"),n.footer.EmbedSym=c[8]==1?"1":"0"),n.length!=0&&(n.menuid=t.menuID,n.appearance=jQuery("#mp-mobile-appearance").val(),n.color=jQuery("#dialog-mobile-color").spectrum("get").toHexString(),n.tcolor=jQuery("#dialog-mobile-tcolor").spectrum("get").toHexString(),n.changetcolor=$("#mp-change-tcolor").prop("checked"),n.notitles=$("#more-no-titles").prop("checked"),n.noprices=$("#more-no-prices").prop("checked"),n.noftext=$("#more-no-ftext").prop("checked"),n.nofooter=$("#more-no-footer").prop("checked"),n.nocols=$("#more-no-cols").prop("checked"),n.clickpics=$("#more-click-pics").prop("checked"),n["price-options"]=r[".price-options"],n["price-options"].currency=encodeURIComponent(n["price-options"].currency.decodeEntities()),delete n["price-options"]["price-leader"],n.order=u),n.timestamp=(new Date).getTime(),l=$("#dialog-setting-mobileshowtime").prop("checked"),n.showtime=l?"on":"off",n}function createSymbol(n,t){var u,r,i;if(t==undefined){if(n==undefined||n.length<3)return""}else if(u=n.match(/;/gi).length,u==2?n=n[0]==";"?n.replace(/;/,"&#59"):n.replace(/;;/,";&#59"):u==3&&(n="&#59;&#59"),n==undefined||n.length<2)return"";return r="",i=n.split(";"),_.isEmpty(i[0])||(r+='<span class="imp-foodsym">'+i[0]+"<\/span>"),_.isEmpty(i[1])||(r+='<span class="imp-foodsym">'+i[1]+"<\/span>"),_.isEmpty(i[2])||(r+='<span class="imp-binno">'+decodeURIComponent(i[2])+"<\/span>"),r}function createHTML(n){var t="",u=n["price-options"].currency.decodeEntities(),b=n["price-options"].layout,o,v,y,p,w,at;u=u=="none"?"":u;var e='<div class="imp-heading">',k=_.template('<div class="imp-title-heading"><%= sym %><%= decodeURIComponent(head) %><\/div>'),d=_.template('<div class="imp-normal-heading"><%= sym %><%= decodeURIComponent(head) %><\/div>'),g=_.template('<div class="imp-subheading"><%= sym %><%= decodeURIComponent(head) %><\/div>'),nt=_.template('<div class="imp-subheading imp-right-heading"><%= sym %><%= decodeURIComponent(head) %><\/div>'),tt=_.template('<div class="imp-alt-heading"><%= sym %><%= decodeURIComponent(head) %><\/div>'),it='<div class="imp-food-item">',rt=_.template('<div class="imp-name"><%= sym %><%= decodeURIComponent(name) %><\/div>'),f=_.template('<div class="imp-price <%= only %>"><%= decodeURIComponent(price) %><\/div>'),s=_.template('<div class="imp-description"><%= sym %><%= decodeURIComponent(desc) %><\/div>'),ut=_.template('<div class="imp-extras"><%= sym %><%= decodeURIComponent(extras) %><\/div>');o=$("#more-click-pics").prop("checked")?_.template('<a href="#" onclick="impshowPic(this);return false;"><img class="imp-food-pic" src="<%= foodpic %>"><\/a>'):_.template('<img class="imp-food-pic" src="<%= foodpic %>">');var h=_.template('<div class="imp-name imp-pic-name"><%= sym %><%= decodeURIComponent(name) %><\/div>'),c=_.template('<div class="imp-description imp-pic-desc"><%= sym %><%= decodeURIComponent(desc) %><\/div>'),ft=_.template('<div class="imp-extras imp-pic-extras"><%= sym %><%= decodeURIComponent(extras) %><\/div>'),et=_.template('<div class="imp-ft-text"><%= decodeURIComponent(float) %><\/div>'),ot=_.template('<div class="imp-alt-ft-text"><%= decodeURIComponent(float) %><\/div>'),l=_.template('<div class="imp-footer"><%= sym %><%= decodeURIComponent(footer) %><\/div>'),i="<\/div>",st='<div class="imp-food-cols">',r=0;if(_.each(n.order,function(l){var a="",y,w,v,p;_.isEmpty(n[l].price)||(n[l].price.replace(/^\ +|[0-9,.]|%2E|%3B/g,"").length==0?(a=u+n[l].price,a=a.replace(/%3B/g,"  "+u)):(a=n[l].price,a=a.replace(/%3B/g,"  ")));switch(b){case"none":a=""}if(l.indexOf("h")>-1){r&&(t+=i+"\n",r=0);y=createSymbol(n[l].sym_bin,"heading");t+=e;switch(n[l].type){case"title":t+=k({sym:y,head:n[l].heading});break;case"normal":t+=d({sym:y,head:n[l].heading});break;case"small":t+=n[l].justification=="right"?nt({sym:y,head:n[l].heading}):g({sym:y,head:n[l].heading});break;default:t+=tt({sym:y,head:n[l].heading})}t+=i+"\n"}else{if(r||(t+=st+"\n",r=1),t+=it,w=createSymbol(n[l].sym_bin),v="",_.isEmpty(n[l].name))if(_.isEmpty(n[l].description))if(_.isEmpty(n[l].extras)){var ot="",et="",ht="";_.isEmpty(a)||(v="imp-only-price")}else var ot="",et="",ht=w;else var ot="",et=w,ht="";else var ot=w,et="",ht="";p=$("#mp-mobile-appearance").val();_.isEmpty(n[l].foodpic)&&!_.isEmpty(n[l].name)?(_.isEmpty(n[l].name)||(t+=rt({sym:ot,name:n[l].name})),p!="specials"&&p!="typewriter"?(_.isEmpty(a)||(t+=f({only:v,price:a})),_.isEmpty(n[l].description)||(t+=s({sym:et,desc:n[l].description}))):(_.isEmpty(n[l].description)||(t+=s({sym:et,desc:n[l].description})),_.isEmpty(a)||(t+=f({only:v,price:a}))),_.isEmpty(n[l].extras)||(t+=ut({sym:ht,extras:n[l].extras}))):(p!="specials"&&p!="typewriter"&&v==""?(_.isEmpty(a)||(t+=f({only:v,price:a})),_.isEmpty(n[l].foodpic)||(t+=o({foodpic:n[l].foodpic})),_.isEmpty(n[l].name)||(t+=h({sym:ot,name:n[l].name})),_.isEmpty(n[l].description)||(t+=c({sym:et,desc:n[l].description}))):(_.isEmpty(n[l].foodpic)||(t+=o({foodpic:n[l].foodpic})),_.isEmpty(n[l].name)||(t+=h({sym:ot,name:n[l].name})),_.isEmpty(n[l].description)||(t+=c({sym:et,desc:n[l].description})),_.isEmpty(a)||(t+=f({only:v,price:a}))),_.isEmpty(n[l].extras)||(t+=ft({sym:ht,extras:n[l].extras})));t+=i+"\n"}}),r&&(t+=i+"\n",r=0),_.isEmpty(n.float_text)||_.each(n.float_text,function(n){t+=e;t+=n.param.match("alt-float")?ot({float:n.text}):et({float:n.text});t+=i+"\n"}),!_.isEmpty(n.footer)){t+=e;var a=createSymbol(n.footer.sym_bin,"heading"),ht=getItem("menufile"),ct=ht.foot_item.foot_tweaks,lt=ct.split(";");t+=lt[8]==1?symReplaceHTML(l({sym:a,footer:n.footer.text})):l({sym:a,footer:n.footer.text});t+=i+"\n"}v=jQuery("#mp-mobile-appearance").val();jQuery("#iframe-iphone").contents().find("html").find("link").attr("href","mobile/"+v+".css");y=jQuery("#dialog-mobile-color").spectrum("get").toHexString();jQuery("#iframe-iphone").contents().find("body").css("background-color",y);jQuery("#iframe-iphone").contents().find("body").css("overflow-x","hidden");p='<div class="imp-wrapper"><div class="imp-menu">';setTimeout(function(){injectAppearnceCSS()},50);w='<\/div><a target="_blank" href="https://imenupro.com/"><img id="imp-love" src="https://imenupro.com/SVG/mobile/powered-by.png"><\/a><\/div><\/body><\/html>';at=jQuery("#iframe-iphone").contents().find("body").html(p+t+w);(Mobile.appearance==undefined||Mobile.appearance=="match")&&jQuery("#iframe-iphone").contents().find("head").find("style").remove()}function injectAppearnceCSS(){if($("#iframe-iphone").contents().find(".imp-menu").find("style").remove(),$("#mp-change-tcolor").prop("checked")){var n=jQuery("#dialog-mobile-tcolor").spectrum("get").toHexString();jQuery("#iframe-iphone").contents().find(".imp-menu").append('<style type="text/css"> .imp-normal-heading { color: '+n+" } .imp-normal-heading:before { background: "+n+" } .imp-normal-heading:after { background: "+n+" } .imp-title-heading { color: "+n+" } .imp-subheading { color: "+n+" } .imp-alt-heading { color: "+n+" } .imp-alt-heading:before { background: "+n+" } .imp-alt-heading:after { background: "+n+" } .imp-footer { color: "+n+" } .imp-ft-text { color: "+n+" } .imp-alt-ft-text { color: "+n+" } .imp-name { color: "+n+" } .imp-foodsym { color: "+n+" } .imp-description { color: "+n+" } .imp-binno { color: "+n+" } .imp-extras { color: "+n+" } .imp-price { color: "+n+" } <\/style>")}$("#more-no-titles").prop("checked")&&$("#iframe-iphone").contents().find(".imp-menu").append('<style type="text/css"> .imp-title-heading { display:none } <\/style>');$("#more-no-prices").prop("checked")&&$("#iframe-iphone").contents().find(".imp-menu").append('<style type="text/css"> .imp-price { display:none } <\/style>');$("#more-no-ftext").prop("checked")&&$("#iframe-iphone").contents().find(".imp-menu").append('<style type="text/css"> .imp-ft-text, .imp-alt-ft-text  { display:none } <\/style>');$("#more-no-footer").prop("checked")&&$("#iframe-iphone").contents().find(".imp-menu").append('<style type="text/css"> .imp-footer { display:none } <\/style>');$("#more-no-cols").prop("checked")&&$("#iframe-iphone").contents().find(".imp-menu").append('<style type="text/css"> .imp-food-cols { -moz-column-count: 1; -moz-column-width: auto; -webkit-column-count: 1; -webkit-column-width: auto; column-count: 1; column-width: auto } <\/style>');$("#more-click-pics").prop("checked")&&$("#iframe-iphone").contents().find(".imp-menu").append('<style type="text/css"> .imp-food-pic:hover { transition: all 0.1s ease-in-out  } <\/style>')}function createCSS(){var n=getItem("origCSS"),o=getItem("override.css"),s=getItem("menufile"),t,r,u,f,e,i;return jQuery.extend(!0,n,o),t="",r=n[".style"]["extras-separator"].decodeEntities(),s.foot_item.type=="small"?(u=", .imp-footer",f=""):(u="",f=", .imp-footer"),e=[".name",".description",".price",".extras",".title-heading",".heading",".alt-font-heading",".small-heading",".floating-text",".alt-float"],i=[],_.each(e,function(t){var f=gfontnames[n[t]["font-family"].replace(/([^,]+),.*/g,"$1").replace(/"/g,"").toLowerCase()];if(f!=undefined){var r=gfontnames[n[t]["font-family"].replace(/([^,]+),.*/g,"$1").replace(/"/g,"").toLowerCase()],u=n[t]["font-weight"],e=n[t]["font-style"];i=e=="italic"?_.union('@import url("//fonts.googleapis.com/css?family='+r+":"+u+'italic");',i):_.union('@import url("//fonts.googleapis.com/css?family='+r+":"+u+'");',i)}}),t=i.join("\n"),_.each(e,function(i){var c=gfontnames[n[i]["font-family"].replace(/([^,]+),.*/g,"$1").replace(/"/g,"").toLowerCase()],s,h,e,o;s=c!=undefined?gfontnames[n[i]["font-family"].replace(/([^,]+),.*/g,"$1").replace(/"/g,"").toLowerCase()].replace(/\+/g," "):n[i]["font-family"];h=n[i]["font-weight"];e=Math.round(parseInt(n[i]["font-size"])*.85+.5);e=e<10?10:e;e=e>28?28:e;o=n[i].fill;n[i].stroke!="none"&&(n[i].fill=="rgb(255, 255, 255)"||n[i].fill=="#fff"||n[i].fill=="#ffffff")&&(o=n[i].stroke);o=o=="rgb(255, 255, 255)"||o.toLowerCase()=="#ffffff"||o.toLowerCase()=="#fff"?"#000000":o;var l=n[i]["font-style"],a=n[i].icaps=="yes"?"uppercase":"none",v=n[i]["letter-spacing"],y=n[i]["text-decoration"],r="";switch(i){case".name":r=".imp-name";break;case".description":r=".imp-description, .imp-binno";break;case".price":r=".imp-price";break;case".extras":r=".imp-extras";break;case".title-heading":r=".imp-title-heading";break;case".heading":r=".imp-heading, .imp-normal-heading";break;case".small-heading":r=".imp-subheading"+u;break;case".alt-font-heading":r=".imp-alt-heading"+f;break;case".floating-text":r=".imp-ft-text";break;case".alt-float":r=".imp-alt-ft-text"}r!=""&&(t+=r+' { font-family: "'+s+'"; font-size: '+e+"pt; font-weight: "+h+"; font-style: "+l+"; color: "+o+"; text-transform: "+a+"; text-decoration: "+y+"; letter-spacing: "+v+"; }\n")}),t+=r=="none"?'.imp-extras:before { content:""; }\n':'.imp-extras:before { content:" '+r+' "; }\n',t+=".imp-heading { text-decoration:none }\n",t+=".imp-foodsym { color: "+n[".symbol"]["fill-1"]+"; }\n",t+=match_footer,imageFONT.length>0&&(t+=getUserFontSS()),t}function symReplaceHTML(n){for(var t=0;t<symTranslateHTML.length;t+=2)n=n.replace(symTranslateHTML[t],"<span class='imp-foodsym' style='text-transform:none'>"+symTranslateHTML[t+1]+"<\/span>");return n}var gfontnames={"open sans":"Open+Sans",arimo:"Arimo",tangerine:"Tangerine","open sans condensed":"Open+Sans+Condensed","open sans condensed light":"Open+Sans+Condensed",cabin:"Cabin","archivo narrow":"Archivo+Narrow",balthazar:"Balthazar",lobster:"Lobster","josefin slab":"Josefin+Slab",matchbook:"Six+Caps","monsieur la doulaise":"Monsieur+La+Doulaise","montserrat subrayada":"Montserrat+Subrayada",montserrat:"Montserrat","six caps":"Six+Caps",unifrakturmaguntia:"UnifrakturMaguntia","carrois gothic sc":"Carrois+Gothic+SC","anonymous pro":"Anonymous+Pro",oswald:"Oswald",benchnine:"BenchNine",smokum:"Smokum",petrona:"Petrona","lilita one":"Lilita+One","oleo script":"Oleo+Script","cac champagne":"Pinyon+Script","special elite":"Special+Elite","playfair display sc":"Playfair+Display+SC","gravitas one":"Gravitas+One",buenard:"Buenard","jenna sue":"Bilbo+Swash+Caps","gandhi serif":"Tinos",cantarell:"Cantarell",raleway:"Raleway",bevan:"Bevan",rokkitt:"Rokkitt","antic slab":"Antic+Slab","londrina solid":"Londrina+Solid","rammetto one":"Rammetto+One","josefin sans":"Josefin+Sans",engagement:"Engagement","delius unicase":"Delius+Unicase",delius:"Delius",asap:"Asap","vast shadow":"Vast+Shadow",cardo:"Cardo","della respira":"Della+Respira",alegreya:"Alegreya",stoke:"Stoke",elsie:"Elsie",inika:"Inika",volkhov:"Volkhov","source sans pro":"Source+Sans+Pro",niconne:"Niconne","contrail one":"Contrail+One","germania one":"Germania+One",amaranth:"Amaranth",fondamento:"Fondamento","quattrocento sans":"Quattrocento+Sans","holtwood one sc":"Holtwood+One+SC",rancho:"Rancho","maiden orange":"Maiden+Orange",acme:"Acme","arbutus slab":"Arbutus+Slab","stint ultra expanded":"Stint+Ultra+Expanded","kaushan script":"Kaushan+Script",alice:"Alice",yesteryear:"Yesteryear",oregano:"Oregano",pacifico:"Pacifico","architects daughter":"Architects+Daughter","stardos stencil":"Stardos+Stencil",frijole:"Frijole",sancreek:"Sancreek",felipa:"Felipa","pinyon script":"Pinyon+Script",aladin:"Aladin",muli:"Muli",prata:"Prata",podkova:"Podkova",airbag:"Rokkitt",abel:"Abel","grand hotel":"Grand+Hotel","alegreya sc":"Alegreya+SC","shadows into light two":"Shadows+Into+Light+Two",aubrey:"Aubrey","bilbo swash caps":"Bilbo+Swash+Caps",salsa:"Salsa",tinos:"Tinos"},match_footer='.imp-normal-heading:before, \n.imp-normal-heading:after { content: ""; width: 0; height: 0; position: absolute; margin: 0; background: none; top: 0; margin-top: 0; } \n.imp-normal-heading:before { right: 0%; } \n.imp-normal-heading:after { left: 0%; } \n@media (max-width: 960px) { .imp-wrapper { margin: 0 15px; }\t} \n@media (max-width: 480px) { .imp-wrapper .imp-menu .imp-food-cols { -moz-column-gap: 25px; -webkit-column-gap: 25px; column-gap: 25px; } .imp-extras { margin-left: 3px; } } \n@media (max-width: 360px)  { .imp-wrapper { margin: 0 7px; }\t.imp-menu { } .imp-wrapper .imp-menu .imp-food-cols { -moz-column-count: 1; -webkit-column-count: 1; column-count: 1; }  .imp-title-heading { max-width:95%; } .imp-extras { margin-left: 0; } }'
//# sourceMappingURL=mp-mobile.map
