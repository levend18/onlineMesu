/*! Copyright 2014 SoftCafe, LLC. Use of any code on this site or the imenupro app is forbidden. */
function doWelcome(){if(demoMenu){var n=$(window).height();n<649&&!isNaN(n)&&$("#dropdown-view-zoom70").click()}$("#WelcomeToiMenuPro").modal().show()}function doTour(){$(window).scrollTop(0);$("#joyRideTipContent").joyride({autoStart:!0,modal:!0,expose:!0,scroll:!1,postRideCallback:function(){demoMenu&&imp_demo_msg!=""&&doAlert(imp_demo_msg,"noticeb",6e3,!0,"top-left")}})}function firstRunStuff(){firstRunMenu=!0}function ignoreEnter(n){if(n.keyCode==13)return!1}function focusOnThis(n){isIE||isIE9||setTimeout(function(){$(n).val()==""&&$(n).focus()},20)}function setWidthBalanceValText(n){var i=$("#col1width-icon").attr("class"),t;$("#col1width-icon").removeClass(i);t="";global_columns>2&&(t="-3");switch(n){case 67:$("#width-balance-val").text("left---");$("#col1width-icon").addClass("icon-col1-67"+t);break;case 78:$("#width-balance-val").text("left--");$("#col1width-icon").addClass("icon-col1-78"+t);break;case 89:$("#width-balance-val").text("left-");$("#col1width-icon").addClass("icon-col1-89"+t);break;case 100:$("#width-balance-val").text("off");$("#col1width-icon").addClass("icon-col1-100"+t);break;case 111:$("#width-balance-val").text("-right");$("#col1width-icon").addClass("icon-col1-111"+t);break;case 122:$("#width-balance-val").text("--right");$("#col1width-icon").addClass("icon-col1-122"+t);break;case 133:$("#width-balance-val").text("---right");$("#col1width-icon").addClass("icon-col1-133"+t);break;default:$("#width-balance-val").text("off");$("#col1width-icon").addClass("icon-col1-100"+t)}n==100?($("#width-balance-val").css("color","#444444"),$("#col1width-icon").css("opacity",".4")):($("#width-balance-val").css("color","#5bb75b"),$("#col1width-icon").css("opacity","1"))}function update_menu_for_zoom(n){var t=document.getElementsByTagName("svg")[1];$("#MPstatusBarView").text(n+"%");t.setAttribute("width",parseInt(n/100*page_width*96));t.setAttribute("height",parseInt(n/100*page_height*96));$("#SVGMenuPro11").css("width",parseInt(n/100*page_width*96)+"px");$("#SVGMenuPro11").css("height",parseInt(n/100*page_height*96)+"px");toggleZoomView(n);storeZoomSettings()}function toggleZoomView(n){$("#mp-z40").removeClass("icon-ok");$("#mp-z40").addClass("no-menu-icon");$("#mp-z55").removeClass("icon-ok");$("#mp-z55").addClass("no-menu-icon");$("#mp-z70").removeClass("icon-ok");$("#mp-z70").addClass("no-menu-icon");$("#mp-z85").removeClass("icon-ok");$("#mp-z85").addClass("no-menu-icon");$("#mp-z100").removeClass("icon-ok");$("#mp-z100").addClass("no-menu-icon");$("#mp-z115").removeClass("icon-ok");$("#mp-z115").addClass("no-menu-icon");$("#mp-z130").removeClass("icon-ok");$("#mp-z130").addClass("no-menu-icon");$("#mp-z145").removeClass("icon-ok");$("#mp-z145").addClass("no-menu-icon");$("#mp-z160").removeClass("icon-ok");$("#mp-z160").addClass("no-menu-icon");$("#mp-z175").removeClass("icon-ok");$("#mp-z175").addClass("no-menu-icon");$("#mp-z190").removeClass("icon-ok");$("#mp-z190").addClass("no-menu-icon");$("#mp-z205").removeClass("icon-ok");$("#mp-z205").addClass("no-menu-icon");var t="#mp-z"+n.toString();$(t).removeClass("no-menu-icon");$(t).addClass("icon-ok")}function toggleTableView(n,t,i){$("#mp-view-ts-default").removeClass("icon-ok");$("#mp-view-ts-default").addClass("no-menu-icon");$("#mp-view-ts-subtle").removeClass("icon-ok");$("#mp-view-ts-subtle").addClass("no-menu-icon");$("#mp-view-ts-linen").removeClass("icon-ok");$("#mp-view-ts-linen").addClass("no-menu-icon");$("#mp-view-ts-screen").removeClass("icon-ok");$("#mp-view-ts-screen").addClass("no-menu-icon");$("#mp-view-ts-white").removeClass("icon-ok");$("#mp-view-ts-white").addClass("no-menu-icon");$(n).removeClass("no-menu-icon");$(n).addClass("icon-ok");switch(t){case"subtle":$("body").css("background-image","url('img/ts/subtle.jpg')");break;case"linen":$("body").css("background-image","url('img/ts/linen.png')");break;case"screen":$("body").css("background-image","url('img/ts/screen.png')");break;case"white":$("body").css("background-image","none");$("body").css("background-color","#ffffff");break;case"default":$("body").css("background-image","none");$("body").css("background-color","#f8f8f8")}i!="login"&&storeViewSettings()}function toggleMenuView(n,t,i){t?($("#mp-food-sidebar").show(),$("#SVGMenuPro11").addClass("MPClassicView"),$("#SVGMenuPro11demo").addClass("MPClassicView"),i!="login"&&($(".gaugevals").is(":visible")?(reGauge("db"),reGauge("menu"),$(".MPClassicView").animate({marginLeft:627},200)):$(".MPClassicView").animate({marginLeft:262},200))):(i!="login"&&$(".MPClassicView").css("margin-left","0"),$("#mp-food-sidebar").hide(),$("#SVGMenuPro11").removeClass("MPClassicView"),$("#SVGMenuPro11demo").removeClass("MPClassicView"));$("#classic-icon").removeClass("icon-ok");$("#classic-icon").addClass("no-menu-icon");$("#onlymenu-icon").removeClass("icon-ok");$("#onlymenu-icon").addClass("no-menu-icon");$(n).removeClass("no-menu-icon");$(n).addClass("icon-ok");i!="login"&&storeViewSettings()}function toggleEnableText(n){$("#enabletext-icon").removeClass("icon-ok");$("#disabletext-icon").removeClass("icon-ok");$("#enabletext-icon").addClass("no-menu-icon");$("#disabletext-icon").addClass("no-menu-icon");n=="#disabletext-icon"||$("#MPstatusBarView").css("opacity")=="1"?($("#disabletext-icon").removeClass("no-menu-icon"),$("#disabletext-icon").addClass("icon-ok"),disable_draggit(),$("#textcanvas").css("opacity","0.35"),$("#MPtextlocked").text("menu text"),$("#MPstatusBarView").css("opacity","0.5"),$("#MPstatusBarView").css("text-decoration","line-through")):($("#enabletext-icon").removeClass("no-menu-icon"),$("#enabletext-icon").addClass("icon-ok"),enable_draggit(),$("#textcanvas").css("opacity","1.0"),$("#MPtextlocked").text(""),$("#MPstatusBarView").css("opacity","1"),$("#MPstatusBarView").css("text-decoration","none"))}function imgSVG(n,t,i,r,u,f,e){var o=document.createElementNS("http://www.w3.org/2000/svg","image");return o.setAttributeNS(null,"x",t),o.setAttributeNS(null,"y",i),r<0&&(r=0),u<0&&(u=0),o.setAttributeNS(null,"width",r),o.setAttributeNS(null,"height",u),f=="attachPhotoLeft"?o.setAttributeNS(null,"preserveAspectRatio","xMidYMin"):f=="attachCertPhotoLeft"?o.setAttributeNS(null,"preserveAspectRatio","xMidYMid"):f=="attachPhotoCenter"?o.setAttributeNS(null,"preserveAspectRatio","xMidYMin"):f?o.setAttributeNS(null,"preserveAspectRatio","xMidYMid meet"):o.setAttributeNS(null,"preserveAspectRatio","none"),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n),e!=null&&e!=0&&o.setAttributeNS(null,"pointer-events",e),u==".0111in"&&o.setAttributeNS(null,"height",".0160090210in"),o}function transformElement(n,t,i){var r=0,u=0,f=1,e=1,o,s;i&&(u=page_height*96,e=-1);t&&(r=page_width*96,f=-1);o="translate("+r+","+u+")";s=" scale("+f+","+e+")";jQuery(n).attr("transform",o+s)}function foodtostring(){var i=parseInt(jQuery('input[name="fipstyle"]:checked').val()),t=getItem("fooditem"),n="",r;return i==0?(r=_.compact(_.pluck(t,"name")),_.each(r,function(t){n+="<b>"+decodeURIComponent(t).decodeEntities()+"<\/b><p>"})):i==1?_.each(t,function(t){t.name==""&&(t.name="<i>{blank Name}<\/i>");n+="<b>"+decodeURIComponent(t.name).decodeEntities()+"<\/b><br>";n+=decodeURIComponent(t.description).decodeEntities()+"<br>";n+=decodeURIComponent(t.extras).decodeEntities()+"<br>";n+=decodeURIComponent(t.price).decodeEntities()+"<br>";n+="<p>"}):_.each(t,function(t){t.name==""&&(t.name="<i>{blank Name}<\/i>");n+="<b>"+decodeURIComponent(t.name).decodeEntities()+"<\/b><br>";n+=decodeURIComponent(t.description).decodeEntities()+"<br>";n+=decodeURIComponent(t.extras).decodeEntities()+"<br>";n+=decodeURIComponent(t.price).decodeEntities()+"<br>";n+="<i>"+decodeURIComponent(t.notes).decodeEntities()+"<\/i><br>";n+="<p>"}),n=n.replace(/undefined<br>/g,"<br>"),n=n.replace(/<br><br><br>/g,"<br>"),n=n.replace(/<br><br>/g,"<br>"),n=n.replace(/<br><i><\/i><br>/g,"<br>"),n=n.replace(/<br><i>undefined<\/i><br>/g,"<br>")}function foodtostringEx(){var r=parseInt(jQuery('input[name="fipstyle"]:checked').val()),i=getItem("fooditem"),n="",t=/"/ig,u;return r==0?(u=_.compact(_.pluck(i,"name")),_.each(u,function(i){n+='"'+decodeURIComponent(i).decodeEntities().replace(t,'""')+'",,,,,,,,,,,\r\n'})):r==1?_.each(i,function(i){n+='"'+decodeURIComponent(i.name).decodeEntities().replace(t,'""')+'",';n+='"'+decodeURIComponent(i.description).decodeEntities().replace(t,'""')+'",';n+='"'+decodeURIComponent(i.price).decodeEntities().replace(t,'""')+'",,,,,,,,';n+='"'+decodeURIComponent(i.extras).decodeEntities().replace(t,'""')+'",,\r\n'}):_.each(i,function(i){n+='"'+decodeURIComponent(i.name).decodeEntities().replace(t,'""')+'",';n+='"'+decodeURIComponent(i.description).decodeEntities().replace(t,'""')+'",';n+='"'+decodeURIComponent(i.price).decodeEntities().replace(t,'""')+'",,,,,,,,';n+='"'+decodeURIComponent(i.extras).decodeEntities().replace(t,'""')+'",';n+='"'+decodeURIComponent(i.notes).decodeEntities().replace(t,'""')+'",\r\n'}),n}function xmltostring(n){var i,t;return window.XMLSerializer?(i=new XMLSerializer,t=i.serializeToString(n)):window.ActiveXObject&&(t=n.xml),t}function isBleed(){var n=getItem("origCSS"),t=getItem("override.css");return jQuery.extend(!0,n,t),jQuery("#isJPGfile").val()=="1"?0:settings.imenupro.PDFcrop==!0&&n[".background"].image=="paper"?n[".background"]["background-margin"]=="0"?tinycolor(n[".background"]["paper-color"]).toHexString():1:settings.imenupro.PDFcrop==!0?n[".background"].image!="none"&&n[".background"].image!="paper"&&n[".background"]["background-margin"]=="0"?n[".background"].image:1:0}function xmltopdf(n){var u,t,f,e;override=getOverrideSS();var o=document.getElementsByTagName("svg")[1],s=jQuery('link[title="origCSS"]').attr("href"),h=xmltostring(o),c=parseInt(jQuery("input[name=paperorientation]:checked").val()),r=jQuery("#dialog-page-size").val();u=r=="Custom"?page_width+"in "+page_height+"in":c==0?r:r+" Landscape";t=isBleed();t==0||n==="thumb"||(u+=t==1?"; marks: crop cross; prince-mark-offset: 16pt; prince-bleed: 9pt; background-color: #ffffff; ":t.indexOf(".")>-1?"; marks: crop cross; prince-mark-offset: 16pt; prince-bleed: 9pt; background-image: url(../SVGbleed/backgrounds/"+t+");  background-repeat: round;":"; marks: crop cross; prince-mark-offset: 16pt; prince-bleed: 9pt; background-color: "+t+"; ");var l=h.replace("@page {size: US-Letter}","@page {size: "+u+"};"),a=l.replace(/^(<svg.*height=\")(\d+)/im,"$1100%"),v=a.replace(/^(<svg.*width=\")(\d+)/im,"$1100%"),y=v.replace(/ href=/gm," xlink:href="),i=y.replace(/@page/gm,override+"\n@page");return t!=0&&t!=1&&n==undefined&&t.indexOf(".")>-1&&(f=i.slice(0,i.indexOf('id="background"')),e=i.slice(i.indexOf('id="background"')).replace('opacity="1"','opacity="0"'),i=f+e),settings.imenupro.PDFhires?$("#isHiRes").val("1"):$("#isHiRes").val("0"),jQuery("#genpdf_mySS").val(s),jQuery("#genpdf").append('<input type="hidden" name="mySVGstr[]" value="" />'),jQuery("#genpdf").children().last().val(i),jQuery("#genpdf_myPDFMenuTitle").val($("#MPstatusBarMenuName").html()),i}function xmltopdf1(){var r,n,u,f;override=getOverrideSS();var e=document.getElementsByTagName("svg")[1],o=jQuery('link[title="origCSS"]').attr("href"),s=xmltostring(e),h=parseInt(jQuery("input[name=paperorientation]:checked").val()),i=jQuery("#dialog-page-size").val();r=i=="Custom"?page_width+"in "+page_height+"in":h==0?i:i+" Landscape";n=isBleed();n==0||(r+=n==1?"; marks: crop cross; prince-mark-offset: 16pt; prince-bleed: 9pt; background-color: #ffffff; ":n.indexOf(".")>-1?"; marks: crop cross; prince-mark-offset: 16pt; prince-bleed: 9pt; background-image: url(../SVG/backgrounds/"+n+");  background-repeat: round;":"; marks: crop cross; prince-mark-offset: 16pt; prince-bleed: 9pt; background-color: "+n+"; ");var c=s.replace("@page {size: US-Letter}","@page {size: "+r+"};"),l=c.replace(/^(<svg.*height=\")(\d+)/im,"$1100%"),a=l.replace(/^(<svg.*width=\")(\d+)/im,"$1100%"),v=a.replace(/ href=/gm," xlink:href="),t=v.replace(/@page/gm,override+"\n@page");n!=0&&n!=1&&n.indexOf(".")>-1&&(u=t.slice(0,t.indexOf('id="background"')),f=t.slice(t.indexOf('id="background"')).replace('opacity="1"','opacity="0"'),t=u+f);settings.imenupro.PDFhires?$("#isHiRes1").val("1"):$("#isHiRes1").val("0");jQuery("#genpdf_mySS1").val(o);jQuery("#genpdf_mySVG1").val(t);jQuery("#genpdf_myPDFMenuTitle1").val($("#MPstatusBarMenuName").html());jQuery("#isJPGfile1").val("0");jQuery("#genpdf1").submit()}function xmltopdf_tt(n){var u;override=getOverrideSS();var e=document.getElementsByTagName("svg")[1],r=jQuery('link[title="origCSS"]').attr("href"),o=xmltostring(e),i=parseInt(jQuery("input[name=paperorientation]:checked").val()),t=jQuery("#dialog-page-size").val();u=t=="Custom"||n==="2"?n==="2"?i==0&&t!="Custom"||t=="Custom"&&i!=0&&page_width<page_height||t=="Custom"&&i==0&&page_width<page_height?page_width*2+"in "+page_height+"in":page_width+"in "+page_height*2+"in":page_width+"in "+page_height+"in":i==0?t:t+" Landscape";var s=o.replace("@page {size: US-Letter}","@page {size: "+u+"};"),h=s.replace(/^(<svg.*height=\")(\d+)/im,"$1100%"),c=h.replace(/^(<svg.*width=\")(\d+)/im,"$1100%"),l=c.replace(/ href=/gm," xlink:href="),f=l.replace(/@page/gm,override+"\n@page");n!=="2"?(settings.imenupro.PDFhires?$("#isHiRes_tt").val("1"):$("#isHiRes_tt").val("0"),jQuery("#genpdf_mySS_tt").val(r),jQuery("#genpdf_mySVG_tt").val(f),jQuery("#genpdf_mySVGWidth_tt").val(page_width),jQuery("#genpdf_mySVGHeight_tt").val(page_height),jQuery("#genpdf_myPDFMenuTitle_tt").val($("#MPstatusBarMenuName").html()),$("#genpdf-tt").submit()):(settings.imenupro.PDFhires?$("#isHiRes_tt2").val("1"):$("#isHiRes_tt2").val("0"),jQuery("#genpdf_mySS_tt2").val(r),jQuery("#genpdf_mySVG_tt2").val(f),jQuery("#genpdf_mySVGWidth_tt2").val(page_width),jQuery("#genpdf_mySVGHeight_tt2").val(page_height),jQuery("#genpdf_myPDFMenuTitle_tt2").val($("#MPstatusBarMenuName").html()),$("#genpdf-tt2").submit())}function notetopdf(){var n=$("#mp-note-text").val(),t=$(".spanNameFoodItem").val();jQuery("#genpdf_myFoodItemName").val(t);jQuery("#genpdf_myNote").val(n);jQuery("#genpdf-note").submit()}function numCheck(n,t,i,r,u){var e=parseFloat(n),f=e;return isNaN(parseFloat(n))?(f=parseFloat(r),doAlert(92,null,4e3,!0)):e<parseFloat(t)?(f=parseFloat(t),doAlert(92,null,4e3,!0)):e>parseFloat(i)&&(f=parseFloat(i),doAlert(92,null,4e3,!0)),u?f+"in":f}function numToNum(n,t,i,r){var u={"in":96,cm:96/2.54,mm:96/25.4,px:1};return n==null||isNaN(parseFloat(n))?null:(output=parseFloat(n)*u[t]/u[i],i=="in"&&r?outNum=output:i=="in"?(outNum=output.toFixed(2).replace(/\.00/,""),i='"'):outNum=output.toFixed(2).replace(/\.00/,""),r?outNum:outNum+i)}function reorder_rect(n){var s=getItem("menufile"),h=getItem("origCSS"),y=getItem("override.css"),a,f,v;jQuery.extend(!0,h,y);var c=parseInt(s.total_columns),e=parseFloat(h[".style"]["space-between-columns"]),r=[];if(_.each(jQuery("#textcanvas g"),function(n){r.push({id:jQuery(n).attr("id"),w:parseFloat(jQuery(n).find("rect").attr("width")),x:parseFloat(parseFloat(jQuery(n).find("rect").attr("x")).toFixed(4)),y:parseFloat(parseFloat(jQuery(n).find("text").attr("y")).toFixed(4))})}),c==1&&reset.indexOf("mousedown")>-1&&reset.indexOf("headitem")>-1){var p=reset.split(":"),u=p[2],w=_.pluck(r,"id"),b=_.indexOf(w,u);r[b].x=left_margin;col1_order=_.filter(r,function(n){return n.x.toFixed(4)==left_margin.toFixed(4)});var f=col1_order.sort(function(n,t){return n.y>t.y?1:n.y<t.y?-1:0}),l=_.pluck(f,"id"),o=_.indexOf(l,u);o==0?jQuery("#textcanvas").prepend(jQuery("#"+u)):o==f.length-1?jQuery("#textcanvas").append(jQuery("#"+u)):(a=l[o+1],jQuery("#"+u).insertBefore(jQuery("#"+a)));shiftColumn("#"+u,left_margin)}else if(c==1){var f=r.sort(function(n,t){return n.y>t.y?1:n.y<t.y?-1:n.x>t.x?1:n.x<t.x?-1:0}),t={0:[],1:[],2:[]},i=[];_.each(f,function(n){var r=Math.round((page_width-left_margin-right_margin+e)/(n.w/96+e));n.id.indexOf("fooditem_h")>-1?(t=fix_foodsync(t),i=_.union(i,mergeArray(t[0],t[1],t[2])),t={0:[],1:[],2:[]},i.push(n.id)):r==2?n.x==left_margin?t[0].push(n.id):t[1].push(n.id):r==3?n.x==left_margin?t[0].push(n.id):n.x<left_margin+n.w/96+e+.05?t[1].push(n.id):t[2].push(n.id):(shiftColumn("#"+n.id,left_margin),t=fix_foodsync(t),i=_.union(i,mergeArray(t[0],t[1],t[2])),t={0:[],1:[],2:[]},i.push(n.id))});t=fix_foodsync(t);i=_.union(i,mergeArray(t[0],t[1],t[2]));jQuery.each(i,function(n,t){var i=jQuery("#"+t);jQuery("#textcanvas").append(i)})}else f=r.sort(function(n,t){return n.x>t.x?1:n.x<t.x?-1:n.y>t.y?1:n.y<t.y?-1:0}),_.each(_.pluck(f,"id"),function(n){jQuery("#textcanvas").append(jQuery("#"+n))});n==undefined&&(v=parseFloat(s.pagesetup.pagespacing[page_no]),iMenuPro.pagespacing_delta(v*96),makeJoinery())}function reorder_menuorder(n){var t=getItem("menufile"),h=_.pluck(jQuery("#textcanvas g"),"id"),i=_.map(h,function(n){return n.split("_")[1].replace(/u$/,"")}),u=_.indexOf(i,n),f,e,o,s;if(reset.indexOf("foodsync")>-1)orderMove(n);else if(t.food_item.order.length>1){var r=orderRemove(n),c=jQuery("#textcanvas g").first().attr("id").split("_"),l=c[1];i[u-1]!=undefined?(f=i[u-1],e=_.indexOf(r,f),t.food_item.order=orderAdd(n,e,r)):(o=i[parseInt(u)+1],s=_.indexOf(r,o),t.food_item.order=orderAdd(n,s-1,r));setItem("menufile",t)}}function fix_foodsync(n){var c=_.flatten(n),b,e,i,o;if(c.length>0&&reset.indexOf("mousedown")>-1&&reset.indexOf("fooditem_")>-1){var l=reset.split(":"),f=l[2],k=l[3],a=_.indexOf(c,f)>-1,s=find_heading("menufile",f),v=find_heading("Menu_UI",f),h=s!=undefined&&s==v;if(h)var y=getItem("menufile"),p=y.head_item[s],w=p.split(";")[4];if(a&&h&&w==2)reset+=":foodsync";else if(a&&h){b=jQuery("#"+f).find("rect").attr("x");reset+=":foodsync";var t=n[0].length,r=n[1].length,u=n[2].length;t-r==3?(e=n[0].pop(),n[1].push(e)):t-u==3?(e=n[0].pop(),n[2].push(e)):r-u==3?(i=n[1].pop(),n[2].push(i)):t==u&&r-t==2?(i=n[1].pop(),n[0].push(i)):t==u&&t-r==2?(o=n[2].pop(),n[1].push(o)):t==r&&t-u==2?(i=n[1].pop(),n[2].push(i)):t-r==-2?(i=n[1].pop(),n[0].push(i)):t-u==-2&&(o=n[2].pop(),n[0].push(o))}}return n}function find_heading(n,t){var i,r,h,l,o,a,c;if(t=t.replace(/fooditem_/,""),i=getItem("menufile"),r=i.food_item.order,n=="menufile")var o=_.indexOf(r,t),f=r.slice(0,o+1).reverse(),s=_.filter(f,function(n){return n.indexOf("h")>-1});else{h=[];_.each(jQuery("#textcanvas g"),function(n){h.push({id:jQuery(n).attr("id").slice(9),x:parseFloat(parseFloat(jQuery(n).find("rect").attr("x")).toFixed(4)),y:parseFloat(parseFloat(jQuery(n).find("text").attr("y")).toFixed(4))})});var v=h.sort(function(n,t){return n.y>t.y?1:n.y<t.y?-1:n.x>t.x?1:n.x<t.x?-1:0}),e=_.pluck(v,"id"),u=_.indexOf(e,t),f=e.slice(0,u).reverse(),s=_.filter(f,function(n){return n.indexOf("h")>-1});s.length==0&&(l=u==0?e[u+1]:u!=-1?e[u-1]:-1,o=_.indexOf(r,l),f=r.slice(0,o).reverse(),s=_.filter(f,function(n){return n.indexOf("h")>-1}))}return a=_.pluck(i.head_item.header,"head_id"),c=[],s.every(function(n){var t=_.indexOf(a,n),r=i.head_item[n].split(";"),u=parseInt(r[4]);return i.head_item.header[t].type!="small"&&c.push(n),i.head_item.header[t].type=="small"}),c[0]}function find_col(n){var i=getItem("origCSS"),u=getItem("override.css"),r,t;return jQuery(!0,i,u),r=parseFloat(i[".style"]["space-between-columns"])/2,t=_.filter(column_array,function(t){return t<parseFloat(n+r)}),t.length==0?left_margin:t.length==column_array.length?column_array[t.length-2]:column_array[t.length-1]}function cursorPoint(n){return pt.x=n.clientX,pt.y=n.clientY,jQuery("#MPstatusBarPageSize").text("mouse(x,y): ("+pt.x+","+pt.y+")"),pt.matrixTransform(svg_IE.getScreenCTM().inverse())}function updateFloat_xy(n){var u=n.split(/[:_]/)[1],f=getItem("menufile"),t=f.float_text[u].param.split(";"),c;if(t){var i=svg_IE.getElementById("floatitem_"+u),r=parseInt(i.transform.animVal.getItem(1).angle),e=parseFloat(i.transform.animVal.getItem(0).matrix.e),o=parseFloat(i.transform.animVal.getItem(0).matrix.f),s=parseFloat(i.lastChild.getAttribute("height")),h=parseFloat(i.lastChild.getAttribute("width"));r==90?e-=s:r==180?(e-=h,o-=s):r==270&&(o-=h);t[0]=r;t[5]=parseFloat(e/96).toFixed(4);t[6]=parseFloat(o/96).toFixed(4);c=t.join(";");f.float_text[u].param=c;setItem("menufile",f)}}function create_foodRemover(n){var t=document.createElementNS("http://www.w3.org/2000/svg","image"),i=n.currentTarget.lastChild.x.animVal.value,r=n.currentTarget.lastChild.y.animVal.value,u=n.currentTarget.lastChild.width.animVal.value;t.setAttributeNS(null,"x",i+u-20);t.setAttributeNS(null,"y",r);t.setAttributeNS(null,"height",20);t.setAttributeNS(null,"width",20);t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","../SVG/bootstrap/img/remover.svg");t.setAttributeNS(null,"class","remover");jQuery(n.currentTarget).append(t);jQuery("#textcanvas .remover").on("mouseup",function(t){if(t.which!=3){t.stopPropagation();var r=n.currentTarget.id.replace(/_/,":"),i=reset.split(":");jQuery("#"+i[2]).insertBefore(jQuery("#textcanvas g").eq(i[1]));reset="editing-remover:0:"+r;start_spinner();setTimeout(function(){remove_from_menu()},minSpinOffload);setTimeout(function(){stop_spinner()},minSpinOffloadStop);reset_mouse_rect()}})}function reset_mouse_rect(n){if(jQuery("#textcanvas .remover").remove(),jQuery("#textcanvas g").off("mouseleave"),jQuery("#tt").off("mouseleave"),jQuery("#tt").off("mousemove"),jQuery("#textcanvas g").find(".bluedrag_fillonly").remove(),jQuery("#textcanvas g").find(".bluedrag").remove(),jQuery("#textcanvas g").find(".npdrag_fillonly").remove(),jQuery("#textcanvas g").find(".npdrag").remove(),n!=undefined){var t=parseInt(jQuery(n).find("tspan").first().attr("n_col"));t==1&&isTitleSpan(n.id)==!1?jQuery("#textcanvas g").find(".cloned").attr("class","rr2").hide():isTitleSpan(n.id)==!0&&jQuery("#textcanvas g").find(".cloned").attr("class","rr3").hide()}jQuery("#textcanvas g").find(".cloned").attr("class","rr").hide();make_rect_active();$(".rr").css("cursor","pointer");$(".rr2").css("cursor","pointer");$(".rr3").css("cursor","pointer")}function make_rect_active(){jQuery("#textcanvas g").off("mouseenter mouseleave");jQuery("#textcanvas g").on("mouseenter",function(n){dragging==!1&&(jQuery(n.currentTarget.lastChild).show(),create_foodRemover(n))});jQuery("#textcanvas g").on("mouseleave",function(n){jQuery("#textcanvas .remover").remove();dragging==!1&&(jQuery(n.currentTarget.lastChild).hide(),jQuery("#textcanvas .cloned").prev().remove(),jQuery("#textcanvas .cloned").attr("class",".rr"),jQuery("#textcanvas").parent().off("mousemove"))})}function make_rect_inactive(){jQuery("#textcanvas g").off("mouseenter mouseleave");jQuery("#textcanvas .rr").hide();jQuery("#textcanvas .rr2").hide();jQuery("#textcanvas .rr3").hide()}function disable_toolbar(){$("#textcanvas g").length>0?($(".btn-flat").css("pointer-events","none"),$("#floatimages").css("pointer-events","none"),$("#menu-make-new, #menu-make-open, #menu-make-delete, #menu-make-rename, #menu-make-copy, #menu-make-revert, #menu-make-pagesetup").css("pointer-events","none"),$("#drop-edit, #drop-insert, #drop-design, #drop-fonts, #drop-tools").css("pointer-events","none"),$("#MPstatusBarMenuNameSpan, #MPDeleteIconSpan, #MPstatusBarStyle, #MPstatusBarPageSizeSpan, #MPstatusBarPageSpacingSpan").css("pointer-events","none")):stop_spinner()}function enable_toolbar(){$(".btn-flat").css("pointer-events","all");$("#floatimages").css("pointer-events","all");$(".btn-spacer").css("pointer-events","none");$("#menu-make-new, #menu-make-open, #menu-make-delete, #menu-make-rename, #menu-make-copy, #menu-make-revert, #menu-make-pagesetup").css("pointer-events","all");$("#drop-edit, #drop-insert, #drop-design, #drop-fonts, #drop-tools").css("pointer-events","all");$("#MPstatusBarMenuNameSpan, #MPDeleteIconSpan, #MPstatusBarStyle, #MPstatusBarPageSizeSpan, #MPstatusBarPageSpacingSpan").css("pointer-events","all")}function disable_draggit(){$("#textcanvas").css("pointer-events","none")}function enable_draggit(){jQuery("#enabletext-icon").attr("class")=="icon-ok"&&$("#textcanvas").css("pointer-events","all")}function disable_draggit_ft(){$("#floattext").css("pointer-events","none");$("#footer").css("pointer-events","none")}function enable_draggit_ft(){$("#floattext").css("pointer-events","all");$("#footer").css("pointer-events","all")}function mp_remove_dropdowns(){$(".navbar li.dropdown.open").removeClass("open");$(".btn-group.open").removeClass("open");$("#svgmenu-contextmenu").removeClass("open");$("#foodlist-contextmenu").removeClass("open");$("#headinglist-contextmenu").removeClass("open");$("#imagelist-contextmenu").removeClass("open");$("#foodcanvas-contextmenu").removeClass("open");$("#floatingtext-contextmenu").removeClass("open")}function demoStuff(){demoMenu=!0;$("#MPDemoAcct").show();$("#menu-log-out").hide();$("#menu-log-out-divider").hide();$(".not_in_demo").addClass("disabled");$(".not_in_demo_icon").addClass("no-menu-icon");$(".not_in_demo_icon").removeClass("icon-print icon2-facebook icon2-iphone");$(".dont_beta_me").addClass("disabled");$(".icon2-refresh").addClass("disabled");$(".icon2-refreshto").addClass("disabled");$(".icon2-refreshfi").addClass("disabled");imp_version="11 (demo) ";$(".dont_beta_me").hide();$(".icon2-refresh").hide();$(".icon2-refreshto").hide();$(".icon2-refreshfi").hide();$("#MPstatusBarMenuName").html("Sample Menu");$(".headsup").hide();autoSaveTime=0;$("#mp-autosave-time").val("0").prop("disabled",!0);$("#autoSavetext1, #autoSavetext2").addClass("muted");maxFloat=2;maxHead=8;kill_thumbs=!0}function noSave(){nosaveMenu=!0;doAlert("No Save mode","noticeb",null,!0,"bottom-right")}function start_spinner(){spinner_stopped=!1;$("#mp-repage-spinner").spin("tiny","#1375d7");$("#MPstatusBarCurrentStyle").css("opacity",.35);$("#MPCustomize").css("opacity",.35);$("#MPstatusBarPage").css("opacity",.35);disable_draggit();$("#mp-load-spinner").hide()}function stop_spinner(){spinner_stopped=!0;$("#mp-repage-spinner").spin(!1);$("#MPstatusBarCurrentStyle").animate({opacity:1},250);$("#MPCustomize").css("opacity",1);$("#MPstatusBarPage").css("opacity",1);enable_draggit();enable_toolbar();reGauge("menu")}function start_spinner2(){spinner2_stopped=!1;$("#mp-repage-spinner2").spin("large","#1375d7");$("#mp-last-login").css("display")=="none"||fit_active||(lastlogintext=$("#mp-last-login").text())}function stop_spinner2(){spinner2_stopped=!0;$("#mp-repage-spinner2").spin(!1);$("#mp-last-login").css("display")=="none"||fit_active||$("#mp-last-login").text(lastlogintext).animate({opacity:1},250);$("#myLoadingMenu").modal("hide");$("#loading-status").text("");layout_repage_needed=!1;layout_changed=!1}function start_spinner3(){$("#mp-repage-spinner3").spin("tiny","#1375d7")}function stop_spinner3(){$("#mp-repage-spinner3").spin(!1)}function getResetID(){var i=[],n,t;return reset.indexOf("mousedown")>-1?reset.indexOf("headitem_")>-1?(n="headitem",t=reset.split(":")[2].replace("headitem_","")):(n="fooditem",t=reset.split(":")[2].replace("fooditem_","")):(n=reset.split(":")[2],t=reset.split(":")[3].replace(/u$/,"")),i[0]=n,i[1]=t,i}var dragging_flt=!1,svg_IE=document.getElementsByTagName("svg")[1],svgNS=svg_IE.getAttribute("xmlns"),pt=svg_IE.createSVGPoint(),g=svg_IE.querySelectorAll("#floattext g"),_al=g[0],mp_move,dragging=!1,spinner_stopped,spinner2_stopped;svg_IE.addEventListener("mouseup",function(n){dragging!=!1&&(dragging=="drag"||(dragging=="float_open"?(jQuery("#tt").off("mousemove"),jQuery("#floattext g").css("opacity","1"),$("#floattext").css("cursor","pointer"),resetFloatingText(reset),n.which!=3&&jQuery("#myFloatingTextDialog").modal("show"),dragging=!1):dragging=="float_drag"&&(jQuery("#tt").off("mousemove"),jQuery("#floattext g").css("opacity","1"),$("#floattext").css("cursor","pointer"),mp_predo("draggit_ft",page_no),updateFloat_xy(reset),mp_floatArrange(),dragging=!1,reset="")),dragging=!1)},!1),function(n){n.fn.draggit_float=function(){var t=this;t.on("mousedown",function(i){var h,e;if(i.stopPropagation(),mp_remove_dropdowns(),i.which==3)reset=t.attr("id").replace(/_/,":");else{dragging="float_open";reset=t.attr("id").replace(/_/,":");h=jQuery("#faux-white-background").offset();e=parseInt(jQuery("#MPstatusBarView").text().slice(0,-1));jQuery("#floattext").append(t);var c=jQuery(t).find("rect").attr("width"),l=jQuery(t).find("rect").attr("height"),r={x:parseInt(i.pageX),y:parseInt(i.pageY),width:parseInt(c),height:parseInt(l)},o=svg_IE.getElementById(t.attr("id")),a=o.transform.animVal.getItem(0).matrix,f=o.transform.animVal.getItem(1).angle,u=o.transform.animVal.getItem(2).matrix.a,s=jQuery(t).attr("transform").split(/ |\(|\)|\,/);jQuery(t).css("opacity","0.5");n("#floattext").css("cursor","-moz-grab");n("#floattext").css("cursor","-webkit-grab");mp_move=function(i){if(i.stopPropagation(),r.x==i.pageX&&r.y==i.pageY)dragging="float_open";else{dragging="float_drag";var a=(i.pageX-r.x)*100/e+parseInt(s[1]),v=(i.pageY-r.y)*100/e+parseInt(s[2]),o=0,h=0,c=r.width/2*u,l=r.height/2*u;f==90?(o=r.height*u,c=r.height/2*u,l=r.width/2*u):f==180?(o=r.width*u,h=r.height*u):f==270&&(h=r.width*u,c=r.height/2*u,l=r.width/2*u);a<o-c&&(a=o-c);v<h-l&&(v=h-l);a>page_width*96+o-c&&(a=page_width*96+o-c);v>page_height*96+h-l&&(v=page_height*96+h-l);jQuery(t).attr("transform","translate("+a+","+v+") rotate("+f+" 0 0) scale("+u+")");jQuery(t).trigger("dragged");jQuery(t).parent().parent().one("mouseleave",function(){dragging=="float_drag"&&(jQuery("#tt").off("mouseleave"),jQuery("#tt").off("mousemove"),jQuery("#floattext g").css("opacity","1"),n("#floattext").css("cursor","pointer"),mp_predo("draggit_ft",page_no),updateFloat_xy(t.attr("id").replace(/_/,":")),mp_floatArrange(),dragging=!1,reset="")})}};jQuery("#tt").on("mousemove",mp_move)}})}}(jQuery,window,document);jQuery(_al).draggit_float(),function(n,t,i,r){n.fn.draggit=function(){var t=this,u=!1;t.cacheVal=[t.position().left,t.position().top];t.offsetLeft=t.cacheVal[0];t.offsetTop=t.cacheVal[1];t.on("mousedown",function(f){var e,c;mp_remove_dropdowns();var h=jQuery("#faux-white-background").offset(),e=parseInt(jQuery("#MPstatusBarView").text().slice(0,-1)),s=jQuery(t).find("rect").first().attr("y"),o=jQuery(t).find("rect").first().attr("x");if(t.myTop=s.indexOf("in")>-1?parseFloat(s)*96:parseFloat(s),t.myLeft=o.indexOf("in")>-1?parseFloat(o)*96:parseFloat(o),t.width=parseFloat(jQuery(t).find("rect").first().attr("width")),t.height=parseFloat(jQuery(t).find("rect").first().attr("height")),t.offsetX=h.left,t.offsetY=h.top,t.idx=jQuery(t).index(),t.id=jQuery(t).attr("id"),t.rect_class=jQuery(t).find("rect").attr("class"),reset="mousedown:"+t.idx+":"+t.id+":"+o,e!=100?(t.cursorX=parseInt((f.pageX-t.offsetX)*100/e),t.cursorY=parseInt((f.pageY-t.offsetY)*100/e)):(t.cursorX=parseInt(f.pageX-t.offsetX),t.cursorY=parseInt(f.pageY-t.offsetY)),!(t.cursorY<t.myTop)&&!(t.cursorX<t.myLeft)&&!(t.cursorY>t.myTop+t.height)&&!(t.cursorX>t.myLeft+t.width)&&f.which!=3){u==!1&&n(t).find("rect").first().css("display")!="inline"&&(n(t).find("rect").first().show(),create_foodRemover(f));jQuery("#textcanvas").append(t);e=parseInt(jQuery("#MPstatusBarView").text().slice(0,-1));u=!0;f.preventDefault();c=jQuery("#"+t.id).find(".acc_elem");c!=r&&_.every(joinData,function(n){return _.contains(n,t.id)?(_.each(n,function(n){jQuery("#"+n).find(".acc_elem").show();jQuery("#j"+n).css("opacity",.1)}),!1):!0});jQuery(t).parent().parent().on("mouseleave",function(){u!=!1&&(reset_mouse_rect(t),enable_draggit_ft());jQuery("#"+t.id).insertBefore(jQuery("#textcanvas g").eq(t.idx));u=!1;reset="";fast_draggit=!1});t.parent().parent().on("mousemove",function(r){var s,h,c,f,o;(isIE||isIEEdge)&&t.cursorX==parseInt((r.pageX-t.offsetX)*100/e)&&t.cursorY==parseInt((r.pageY-t.offsetY)*100/e)||(jQuery("#textcanvas .remover").remove(),u!=!1&&(u!="drag"&&(n(".rr").css("cursor","-moz-grab"),n(".rr").css("cursor","-webkit-grab"),n(".rr2").css("cursor","-moz-grab"),n(".rr2").css("cursor","-webkit-grab"),n(".rr3").css("cursor","-moz-grab"),n(".rr3").css("cursor","-webkit-grab"),jQuery(t).find("rect").first().attr("class","active"),s=jQuery(t).find("rect").first().clone(),jQuery(s).attr("class","cloned"),make_rect_inactive(),jQuery(t).append(s),h=_.pluck(jQuery("#textcanvas g"),"id"),c=parseInt(jQuery(t).find("tspan").first().attr("n_col")),c==1&&isTitleSpan(t.id)==!1?isWinSafari==!0||"ontouchstart"in i.documentElement||h.length==1?jQuery(t).find("rect").first().attr("class","npdrag_fillonly"):jQuery(t).find("rect").first().attr("class","npdrag"):isWinSafari==!0||"ontouchstart"in i.documentElement||h.length==1?jQuery(t).find("rect").first().attr("class","bluedrag_fillonly"):jQuery(t).find("rect").first().attr("class","bluedrag")),u="drag",disable_draggit_ft(),f=t.myLeft+(r.pageX-t.offsetX)*100/e-t.cursorX,o=t.myTop+(r.pageY-t.offsetY)*100/e-t.cursorY,f=f<0?0:f,f=f+t.width>page_width*96?page_width*96-t.width:f,o=o<0?0:o,o=o+t.height>page_height*96?page_height*96-t.height:o,jQuery(t).find("rect").first().attr("x",f),jQuery(t).find("rect").first().attr("y",o)))})}fast_draggit=!0}).on("mouseup",function(r){var s,h,o,e;if(r.stopPropagation(),jQuery("#"+t.id).insertBefore(jQuery("#textcanvas g").eq(t.idx)),s=parseInt(jQuery("#MPstatusBarView").text().slice(0,-1)),h=_.pluck(jQuery("#textcanvas g"),"id"),t.cursorX==parseInt((r.pageX-t.offsetX)*100/s)&&t.cursorY==parseInt((r.pageY-t.offsetY)*100/s)&&(u=!1),u=="drag"&&h.length==1)u=!1,reset_mouse_rect(t),n("#textcanvas").is(":hover")&&(jQuery(r.currentTarget.lastChild).show(),create_foodRemover(r)),enable_draggit_ft();else if(u=="drag"&&h.length>1){u=!1;var c=getItem("menufile"),b=parseInt(c.total_columns),v=jQuery(t).attr("id"),k="#"+v,f=v.slice(9).replace(/u$/,""),d=jQuery("#faux-white-background").offset(),y=parseInt((r.pageX-d.left)*100/s),g=parseInt(jQuery(t).find("rect").attr("y")),l=jQuery(t).find(".cloned").first().attr("x"),nt=l.indexOf("in")>-1?parseFloat(l)*96:parseFloat(l),tt=parseFloat(jQuery(t).find("rect").first().attr("y"));start_spinner();setTimeout(function(){var i,l,ft,r,p,it,s,rt;disable_draggit();i=food_drop_location(y,g,t.id.slice(9))[0];jQuery(t).hide();var h=find_col(y/96),ut=h*96,c=(ut-nt)/96;jQuery(t).find("text").attr("y",tt/96+"in");jQuery(t).find("rect").attr("x",h+"in");_.each(jQuery(t).find("tspan"),function(n){var t=parseFloat(jQuery(n).attr("x"))||"x";t&&t!="x"&&jQuery(n).attr("x",parseFloat(t)+c+"in")});l=parseFloat(jQuery(t).find("text").attr("x"));jQuery(t).find("text").attr("x",l+c+"in");t.parent().parent().off("mousemove");jQuery("#textcanvas .cloned").remove();jQuery(t).find("rect").attr("class",t.rect_class);jQuery(t).find("rect").hide();mp_predo("draggit",page_no);jQuery(t).find("rect").show();jQuery(t).find("rect").attr("class","bluedrag");ft=top_alt_margin+top_margin*96;r=jQuery(t).find("rect").attr("width");jQuery(t).find("rect").attr("width",(i*96).toFixed(4));var e=list_titlespan(),a=list_foodgroup(f),v=calculate_col_food(f);if(reorder_rect("nopagespacing"),p=jQuery(k).index(),p!=t.idx){disable_draggit();jQuery("#colline line").remove();useDrawTo=page_no+"update_text_only";reorder_menuorder(f);var o=list_titlespan(),w=list_foodgroup(f),i=calculate_col_food(f),d=_.union(_.difference(o,e),_.difference(e,o)),u=_.union(_.difference(a,w),_.difference(w,a));b>1&&(u=[]);setPredoOptimizer(!0);(u.length!=0||v!=i||o.length!=e.length)&&setPredoOptimizer(!1);isUneven&&jQuery(t).find("rect").attr("width",r);d.length==0&&u.length==0?f.indexOf("h")>-1?iMenuPro.drawto_text(page_no,"update_text_only"):i==v?iMenuPro.drawto_text(page_no,"update_text_only"):(iMenuPro.print_fooditem(f,i),isUneven&&(it=calculate_col_width(null,"only")[1],iMenuPro.print_fooditem(f,it,"isUneven"))):(s=_.union(d,u,f),_.each(s,function(n){n.indexOf("h")>-1?(jQuery("#headitem_"+n).remove(),jQuery("#headitem_"+n+"u").remove()):(jQuery("#fooditem_"+n).remove(),jQuery("#fooditem_"+n+"u").remove())}),_.each(s,function(n){var t,i;n.indexOf("h")>-1?(t=calculate_col_width(null,"with_col_width")[0],iMenuPro.print_headitem(n,t,isTitleSpan(n)),isUneven&&(i=calculate_col_width(null,"only")[1],iMenuPro.print_headitem(n,i,isTitleSpan(n),"isUneven"))):(t=calculate_col_food(n),iMenuPro.print_fooditem(n,t),isUneven&&(i=calculate_col_width(null,"only")[1],iMenuPro.print_fooditem(n,i,"isUneven")))}))}else isUneven?jQuery(t).find("rect").attr("width",r):jQuery(t).find("tspan").attr("class")=="title-heading"&&page_no>=1&&jQuery(t).find("rect").attr("width",r),jQuery(t).show(),iMenuPro.pagespacing_delta(),showJoinery(),stop_spinner();reset="";n("#myHeadingList").megalist("setDataProvider",sortHeadData());rt=parseInt(jQuery(t).find("tspan").first().attr("n_col"));isTitleSpan(t.id)?jQuery(t).find("rect").first().attr("class","rr3"):rt==1?jQuery(t).find("rect").first().attr("class","rr2"):jQuery(t).find("rect").first().attr("class","rr");jQuery("#textcanvas .rr").hide();jQuery("#textcanvas .rr2").hide();jQuery("#textcanvas .rr3").hide();reset_mouse_rect()},minSpinOffload)}else{if(showJoinery(),("ontouchstart"in i.documentElement||isIE||isIEEdge)&&(jQuery("#textcanvas .rr").hide(),jQuery("#textcanvas .rr2").hide(),jQuery("#textcanvas .rr3").hide()),u=!1,o=t[0].id.replace("_",":").replace(/u$/,""),e=o.split(":")[1],o.indexOf("food")>-1){var a=getItem("fooditem"),it=_.find(a,function(n){return n.food_id==e}),rt=_.pluck(a,"food_id"),p=_.pluck(sortFoodData(a),"food_id"),ut=_.indexOf(rt,e),w=_.indexOf(p,e);reset="editing-index-noEditR:"+ut+":"+o+":list-index:"+w;updateFoodItemModal(it,e);r.which!=3&&n("#myFoodItemDialog").modal("show")}else{var c=getItem("menufile"),ft=_.pluck(c.head_item.header,"head_id"),p=_.pluck(sortHeadData(c.head_item.header),"head_id"),w=_.indexOf(p,e);reset="editing-index-noEditR:"+_.indexOf(ft,e)+":"+o+":list-index:"+w;updateHeadItemModal(reset);r.which!=3&&n("#myHeadingDialog").modal("show")}reset_mouse_rect()}fast_draggit=!1;enable_draggit_ft()});return t}}(jQuery,window,document);$(document).ajaxStart(function(){spinner_stopped&&$("#mp-load-spinner").show()});$(document).ajaxStop(function(){$("#mp-load-spinner").hide()});spinner_stopped=!0;spinner2_stopped=!0;$(function(){$("[rel='tooltipM']").tooltip()});$("[rel='tooltipM']",".modal").tooltip().on("shown",function(n){n.stopPropagation()});$("[rel='tooltipM']",".modal").tooltip().on("hidden",function(n){n.stopPropagation()});$(".btn-flat").tooltip({placement:"bottom",container:"body",delay:{show:900,hide:10},trigger:"hover manual"});$(".btn-flat, .tipoff").on("show",function(n){"ontouchstart"in document.documentElement&&n.preventDefault()});$(".btn-flat").click(function(){$(".btn-flat").blur()});$("body .dont_scroll").bind("touchmove",{},function(n){n.preventDefault()});window.onbeforeunload=function(n){var t="You're leaving iMenuPro without logging out and may lose your work.";return typeof n=="undefined"&&(n=window.event),n&&(n.returnValue=t),t},function(n,t){var i=n();n.fn.dropdownHover=function(r){return i=i.add(this.parent()),this.each(function(){var f=n(this),i=f.parent(),e={delay:n(this).data("delay"),instantlyCloseOthers:n(this).data("close-others")},o=n.extend(!0,{},{delay:25e3,instantlyCloseOthers:!0},r,e),u;o.instantlyCloseOthers=!0;i.hover(function(){i.hasClass("open")&&t.clearTimeout(u);i.siblings().hasClass("open")&&(t.clearTimeout(u),n(this).addClass("open"),i.siblings().removeClass("open").find(".dropdown-submenu").find(".dropdown-menu").hide())},function(){})})}}(jQuery,this);jQuery("#dialog-grid-color").spectrum({showInput:!0,appendTo:"#myGridOptionsDialog",showInitial:!0,showAlpha:!0,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,maxSelectionSize:3,clickoutFiresChange:!0,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#d7d7d7","#7F7F7F","#030303"],["#00f50f","#ffb21c","#ffffff"],],change:function(){drawGrid()}});jQuery("#dialog-font-color").spectrum({showInput:!0,appendTo:"#myChangeFontDialog",showInitial:!0,showAlpha:!0,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,maxSelectionSize:3,clickoutFiresChange:!0,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#000000","#818285","#4D4D4F"],["#386cb4","#802318","#c81307"],["#554017","#DE1D3C","#f17258"],["#00aeef","#036a44","#5EC19F"],["#0A9FB8","#694371","#CAA308"],],change:function(){sampleFontStrokeShadow()}});jQuery(".MP-dialog-heading-accent-color").spectrum({showInput:!0,appendTo:"#myHeadingAccentsDialog",showInitial:!0,showAlpha:!0,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,maxSelectionSize:3,clickoutFiresChange:!0,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#d2b48a","#000000","#e42843"],["#A11D28","#404041","#56697d"],["#FFC639","#CAA308","#40260F"],["#0A9FB8","#694371","#5EC19F"],]});jQuery("#dialog-food-accent-color").spectrum({showInput:!0,appendTo:"#myFoodItemDialog",showInitial:!0,showAlpha:!0,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,maxSelectionSize:3,clickoutFiresChange:!0,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#d2b48a","#000000","#e42843"],["#A11D28","#404041","#56697d"],["#FFC639","#CAA308","#40260F"],["#0A9FB8","#694371","#5EC19F"],]});jQuery("#dialog-floating-text-accent-color").spectrum({showInput:!0,appendTo:"#myFloatingTextDialog",showInitial:!0,showAlpha:!0,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,maxSelectionSize:3,clickoutFiresChange:!0,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#d2b48a","#000000","#e42843"],["#A11D28","#404041","#56697d"],["#FFC639","#CAA308","#40260F"],["#0A9FB8","#694371","#5EC19F"],]});jQuery("#dialog-footer-accent-color").spectrum({showInput:!0,appendTo:"#myFooterDialog",showInitial:!0,showAlpha:!0,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,maxSelectionSize:3,clickoutFiresChange:!0,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#d2b48a","#000000","#e42843"],["#A11D28","#404041","#56697d"],["#FFC639","#CAA308","#40260F"],["#0A9FB8","#694371","#5EC19F"],]});jQuery("#dialog-colline-color").spectrum({showInput:!0,appendTo:"#myColumnLayoutOptionsDialog",showInitial:!0,showAlpha:!0,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,maxSelectionSize:3,clickoutFiresChange:!0,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#000000","#d2b48a","#e42843"],["#A11D28","#404041","#56697d"],["#FFC639","#CAA308","#40260F"],["#0A9FB8","#694371","#5EC19F"],]});jQuery("#dialog-border-color").spectrum({change:function(){loadBorder()},showInput:!0,showInitial:!0,appendTo:"#myBorderDialog",showAlpha:!0,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,maxSelectionSize:3,clickoutFiresChange:!0,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#000000","#d2b48a","#e42843"],["#A11D28","#404041","#56697d"],["#FFC639","#CAA308","#40260F"],["#0A9FB8","#694371","#5EC19F"],["#F15A24","#29ABE2","#009245"],["#075099","#AAAAAA","#E21E79"],]});jQuery("#dialog-picture-color").spectrum({change:function(){colorArtisanImage(0,"")},showInput:!0,appendTo:"#myInsertiMenuProImageDialog",showInitial:!0,showAlpha:!0,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,maxSelectionSize:3,clickoutFiresChange:!0,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#000000","#d2b48a","#e42843"],["#A11D28","#404041","#56697d"],["#FFC639","#CAA308","#40260F"],["#0A9FB8","#694371","#5EC19F"],["#F15A24","#29ABE2","#009245"],["#075099","#AAAAAA","#E21E79"],["#e3e3e3","#e6ddd5","#eeeee2"],]});jQuery("#dialog-picture-colorPNG").spectrum({change:function(){colorArtisanImage(0,"PNG")},showInput:!0,appendTo:"#myInsertiMenuProImageDialog",showInitial:!0,showAlpha:!1,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,maxSelectionSize:3,clickoutFiresChange:!0,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#000000","#d2b48a","#e42843"],["#A11D28","#404041","#56697d"],["#FFC639","#CAA308","#40260F"],["#0A9FB8","#694371","#5EC19F"],["#F15A24","#29ABE2","#009245"],["#075099","#AAAAAA","#E21E79"],["#e3e3e3","#e6ddd5","#eeeee2"],]});jQuery("#dialog-menucover-color").spectrum({showInput:!0,appendTo:"#myMenuCoverDialog",showInitial:!0,showAlpha:!1,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,maxSelectionSize:3,clickoutFiresChange:!0,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#000000","#b80000","#00004c"],["#005300","#6b0030","#420000"],["#1e6fdb","#eeae52","#e0c0c1"],],change:function(){drawMenuCover()}});jQuery("#dialog-paper-color").spectrum({change:function(){loadBackground()},showInput:!0,appendTo:"#myBackgroundDialog",showInitial:!0,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,clickoutFiresChange:!0,maxSelectionSize:3,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#fffee6","#c8e9f0","#eaf2df"],["#efd54d","#f0e2c6","#538b3f"],["#fef5c0","#dfe0eb","#FFF4DC"],["#abb8ca","#fbf2e2","#D4C4A2"],]});jQuery("#mp-dialog-symbol1-color").spectrum({showInput:!0,showInitial:!0,appendTo:"#mySymbolOptionsDialog",showAlpha:!0,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,maxSelectionSize:3,clickoutFiresChange:!0,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#000000","#818285","#4D4D4F"],["#386cb4","#802318","#c81307"],["#554017","#DE1D3C","#f17258"],["#00aeef","#036a44","#5EC19F"],["#0A9FB8","#694371","#CAA308"],],change:function(n){updateSymbolOptions("symA",n)}});jQuery("#mp-dialog-symbol2-color").spectrum({showInput:!0,showInitial:!0,appendTo:"#mySymbolOptionsDialog",showAlpha:!0,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,maxSelectionSize:3,clickoutFiresChange:!0,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#000000","#818285","#4D4D4F"],["#386cb4","#802318","#c81307"],["#554017","#DE1D3C","#f17258"],["#00aeef","#036a44","#5EC19F"],["#0A9FB8","#694371","#CAA308"],],change:function(n){updateSymbolOptions("symB",n)}});jQuery("#dialog-mobile-color").spectrum({change:function(){var n=jQuery("#dialog-mobile-color").spectrum("get").toHexString();jQuery("#iframe-iphone").contents().find("body").css("background-color",n)},showInput:!0,appendTo:"#myMobileMenuModal",showInitial:!0,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,clickoutFiresChange:!0,maxSelectionSize:3,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#ffffff","#fffee6","#eaf2df"],["#f6f3e1","#f0e2c6","#c8e9f0"],["#fef5c0","#dfe0eb","#efd54d"],["#abb8ca","#fbf2e2","#D4C4A2"],]});jQuery("#dialog-mobile-tcolor").spectrum({change:function(){injectAppearnceCSS()},showInput:!0,appendTo:"#myMobileMenuModal",showInitial:!0,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,maxSelectionSize:3,clickoutFiresChange:!0,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#000000","#818285","#4D4D4F"],["#386cb4","#802318","#c81307"],["#554017","#DE1D3C","#f17258"],["#00aeef","#036a44","#5EC19F"],["#0A9FB8","#694371","#CAA308"],]});$("#cert-paper-color").spectrum({change:function(){certBackground()},showInput:!0,appendTo:"#myGiftCertificateCreator",showInitial:!0,showPalette:!0,hideAfterPaletteSelect:!0,showSelectionPalette:!0,clickoutFiresChange:!0,maxSelectionSize:3,preferredFormat:"hex",chooseText:"- OK -",cancelText:"Cancel",palette:[["#fffee6","#c8e9f0","#eaf2df"],["#efd54d","#f0e2c6","#538b3f"],["#fef5c0","#dfe0eb","#FFF4DC"],["#abb8ca","#fbf2e2","#D4C4A2"],]})
//# sourceMappingURL=mp-helpers.map
