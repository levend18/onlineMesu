/*! Copyright 2014 SoftCafe, LLC. Use of any code on this site or the imenupro app is forbidden. */
function loadUserData(){var n="",t;nosaveMenu&&(n="&nosave=1");t=jQuery("#access_token").val();jQuery.post("/stripe/"+t+n,function(n){var t,i;n.status=="OK"&&(jQuery("#mp-acct-created").text(n.created),jQuery("#mp-acct-renew").text(n.next_bill),jQuery("#mp-card-type").text(n.card_type),jQuery("#mp-card-last4").text(n.card_last4),jQuery("#mp-acct-email").text(n.email),jQuery("#MPuseracct").text(n.email),jQuery("#mp-acct-fooditem").text(n.fooditem),jQuery("#mp-acct-images").text(n.imageitem),jQuery("#mp-acct-cufonts").text(n.cufonts),s3path=n.s3path,t=new Date,t.setUTCSeconds(parseInt(n.token_expiry)),isWorker==!0?$("#mp-session-expiry").text(t.toLocaleString()+" ww"):$("#mp-session-expiry").text(t.toLocaleString()),i=new Date(parseInt(n.last_login)*1e3),$("#mp-last-login").show(),jQuery("#mp-last-login").text("Last login: "+i.toString().slice(4,7)+"-"+i.getDate()+"-"+i.getFullYear()),lastlogintext=$("#mp-last-login").text(),n.pack1&&(jQuery("#buy-pac1").attr("disabled",n.pack1),jQuery("#stylepac1-purchased").html("<code>Purchased<\/code>")),n.ttcreator?(jQuery("#buy-ttcreator").attr("disabled",n.ttcreator),jQuery("#ttcreator-purchased").html("<code>Purchased<\/code>")):jQuery("#menu-create-tt").addClass("disabled"),n.gccreator?(jQuery("#buy-gccreator").attr("disabled",n.gccreator),jQuery("#gccreator-purchased").html("<code>Purchased<\/code>"),$("#mp-print-cert-btn").removeClass("disabled")):$("#mp-print-cert-btn").addClass("disabled"),n.fontuploader?($("#buy-cufonts").attr("disabled",n.fontuploader),$("#cufonts-purchased").html("<code>Purchased<\/code>"),$("#mp-imgupload-btnFONT").removeClass("disabled")):$("#mp-imgupload-btnFONT").addClass("disabled"),n.stripecoupon=="reset1yrpass"?doAlert(304,"noticeb",25e3,!0,"headsup"):n["1yearpass"]&&(jQuery("#buy-1yearpass").attr("disabled",n["1yearpass"]),jQuery("#1yearpass-purchased").html("<code>Purchased<\/code>")),warnIEFontUsers(),window.setTimeout(function(){session_alert5()},(parseInt(n.token_expiry)-480)*1e3),window.setTimeout(function(){session_alert1()},(parseInt(n.token_expiry)-240)*1e3),window.setTimeout(function(){session_expired()},(parseInt(n.token_expiry)-180)*1e3),$("#MPLiveAcct").show())},"json").fail(function(){doAlert(174,null,0,!0)})}function resetUnitSI(){var n=jQuery("#dialog-setting-unitSI").val();jQuery("#dialog-page-custom_width").val(numToNum(jQuery("#dialog-page-custom_width").val(),unitSI,n));jQuery("#dialog-page-custom_height").val(numToNum(jQuery("#dialog-page-custom_height").val(),unitSI,n));jQuery("#dialog-page-top").val(numToNum(jQuery("#dialog-page-top").val(),unitSI,n));jQuery("#dialog-page-bottom").val(numToNum(jQuery("#dialog-page-bottom").val(),unitSI,n));jQuery("#dialog-page-left").val(numToNum(jQuery("#dialog-page-left").val(),unitSI,n));jQuery("#dialog-page-right").val(numToNum(jQuery("#dialog-page-right").val(),unitSI,n));jQuery("#dialog-grid-xval").val(numToNum(jQuery("#dialog-grid-xval").val(),unitSI,n));jQuery("#dialog-grid-yval").val(numToNum(jQuery("#dialog-grid-yval").val(),unitSI,n));jQuery("#dialog-ai-width").val(numToNum(192,"px",n)).prop("disabled",!0);jQuery("#dialog-background-margin").val(numToNum(jQuery("#dialog-background-margin").val(),unitSI,n));jQuery("#dialog-border-margin").val(numToNum(jQuery("#dialog-border-margin").val(),unitSI,n));jQuery("#space-between-columns").val(numToNum(jQuery("#space-between-columns").val(),unitSI,n));jQuery("#desc-left-indent").val(numToNum(jQuery("#desc-left-indent").val(),unitSI,n));jQuery("#desc-right-indent").val(numToNum(jQuery("#desc-right-indent").val(),unitSI,n));jQuery("#dialog-priceoptions-multiprice").val(numToNum(jQuery("#dialog-priceoptions-multiprice").val(),unitSI,n));jQuery("#footerMargin").val(numToNum(jQuery("#footerMargin").val(),unitSI,n))}function drawMenuCover(){var u=jQuery("input[name=coverstyle]:checked").val(),s=tohex6(jQuery("#dialog-menucover-color").spectrum("get").toHexString("hex6").substr(1)),a=jQuery("#dialog-menucover-onmenu").prop("checked"),h=document.getElementsByTagName("svg")[1],n=h.viewBox.baseVal.height,t=h.viewBox.baseVal.width,c="/SVG/covers/",l="/SVG/covers/landscape/",f=parseInt(jQuery("input[name=paperorientation]:checked").val()),e="",i="",r="",v,o;jQuery("#menucover").children().remove();a&&(h=document.getElementsByTagName("svg")[1],v=h.getElementById("menucover"),u!="0"||f?u=="0"&&f?(o=l+"cover-border.svg",e="https://"+window.location.host+"/svgimg/"+base64.encode(s+':"":'+o),i=imgSVG(e,0,0,t,n,!1,"none"),r=imgSVG("../SVG/covers/landscape/cover-faux-gold.svg",0,0,t,n,!1,"none")):u!="1"||f?u=="1"&&f?(o=l+"cover-corners.svg",e="https://"+window.location.host+"/svgimg/"+base64.encode(s+':"":'+o),i=imgSVG(e,0,0,t,n,!1,"none"),r=imgSVG("../SVG/covers/landscape/cover-faux-corners.svg",0,0,t,n,!1,"none")):u!="2"||f?u=="2"&&f?(i=null,r=imgSVG("../SVG/covers/landscape/cover-faux-gold-only.svg",0,0,t,n,!1,"none")):u!="3"||f?u=="3"&&f&&(i=null,r=imgSVG("../SVG/covers/landscape/cover-faux-metal-only.svg",0,0,t,n,!1,"none")):(i=null,r=imgSVG("../SVG/covers/cover-faux-metal-only.svg",0,0,t,n,!1,"none")):(i=null,r=imgSVG("../SVG/covers/cover-faux-gold-only.svg",0,0,t,n,!1,"none")):(o=c+"cover-corners.svg",e="https://"+window.location.host+"/svgimg/"+base64.encode(s+':"":'+o),i=imgSVG(e,0,0,t,n,!1,"none"),r=imgSVG("../SVG/covers/cover-faux-corners.svg",0,0,t,n,!1,"none")):(o=c+"cover-border.svg",e="https://"+window.location.host+"/svgimg/"+base64.encode(s+':"":'+o),i=imgSVG(e,0,0,t,n,!1,"none"),r=imgSVG("../SVG/covers/cover-faux-gold.svg",0,0,t,n,!1,"none")),jQuery("#menucover").append(i),jQuery("#menucover").append(r))}function drawFold(){var i=parseInt(jQuery("input[name=foldstyle]:checked").val()),t;if(i){var r="",u=page_height*96,f=page_width*96;for(intI=0;intI<i;intI++)f>u?(t=f/(i+1)*(intI+1),r+="M"+t+", 0 L"+t+","+u+" "):(t=u/(i+1)*(intI+1),r+="M0,"+t+" L"+f+","+t+" ");var n=document.createElementNS("http://www.w3.org/2000/svg","path"),e=document.getElementsByTagName("svg")[1],o=e.getElementById("gridlines");n.setAttributeNS(null,"stroke-width","2px");n.setAttributeNS(null,"stroke","#ffb21c");n.setAttributeNS(null,"stroke-opacity","1");n.setAttributeNS(null,"stroke-dasharray","8px,5px");n.setAttributeNS(null,"shape-rendering","geometricPrecision");n.setAttributeNS(null,"d",r);o.appendChild(n)}}function drawMargin(){var i=page_height*96,r=page_width*96,u=top_margin*96,f=left_margin*96,e=bottom_margin*96,o=right_margin*96,n="",t=document.createElementNS("http://www.w3.org/2000/svg","path"),s=document.getElementsByTagName("svg")[1],h=s.getElementById("gridlines");n="M"+f+",0 L"+f+","+i+" ";n+="M"+(r-o)+",0 L"+(r-o)+","+i+" ";n+="M0,"+u+" L"+r+","+u+" ";n+="M0,"+(i-e)+" L"+r+","+(i-e)+" ";t.setAttributeNS(null,"stroke","#00f50f");t.setAttributeNS(null,"stroke-dasharray","3,3");t.setAttributeNS(null,"shape-rendering","geometricPrecision");t.setAttributeNS(null,"d",n);h.appendChild(t)}function drawGrid(){var o=jQuery("#dialog-grid-onmenu").prop("checked"),s=numToNum(parseFloat(jQuery("#dialog-grid-xval").val()),unitSI,"in",!0),h=numToNum(parseFloat(jQuery("#dialog-grid-yval").val()),unitSI,"in",!0),n;x_spacing=numCheck(s,"0.1","11.5","0.25");y_spacing=numCheck(h,"0.1","11.5","0.25");jQuery("#dialog-grid-xval").val(numToNum(x_spacing,"in",unitSI));jQuery("#dialog-grid-yval").val(numToNum(y_spacing,"in",unitSI));var c=tohex6(jQuery("#dialog-grid-color").spectrum("get").toHexString("hex6")),l=jQuery("#dialog-grid-color").spectrum("get").toRgb().a,i=numToNum(x_spacing,unitSI,"px",!0),r=numToNum(y_spacing,unitSI,"px",!0),f=page_height*96,e=page_width*96,u="",t=document.createElementNS("http://www.w3.org/2000/svg","path"),a=document.getElementsByTagName("svg")[1];if(jQuery("#gridlines").children().remove(),o){for(n=0;n*i<e;++n)u+="M"+n*i+",0 L"+n*i+","+f+" ";for(n=0;n*r<f;++n)u+="M0,"+n*r+" L"+e+","+n*r+" ";t.setAttributeNS(null,"stroke",c);t.setAttributeNS(null,"stroke-opacity",l);t.setAttributeNS(null,"stroke-dasharray","3,3");t.setAttributeNS(null,"shape-rendering","geometricPrecision");t.setAttributeNS(null,"d",u);jQuery("#gridlines").append(t);drawMargin();drawFold()}}function startActivityTimer(n){n==undefined&&(n=sleepTime);clearInterval(activityTimerEvent);activityTimer=sleepTime;activityTimerEvent=setInterval(function(){updateActivityTimer(n)},n*6e4)}function updateActivityTimer(n){activityTimer-=n;activityTimer<1&&(clearInterval(activityTimerEvent),activityTimer=0)}function startAutoSave(){clearInterval(autoSaveEvent);var t=settings.imenupro,n=t.autoSaveTime;n=numCheck(n,"0","999","10");n!=0&&(autoSaveEvent=setInterval(function(){save_menu("autosave")},n*6e4))}function setRecompress(n){n||n==undefined?($("#floatimages").removeClass("recompressJpeg"),$("#textcanvas").removeClass("recompressJpeg")):($("#floatimages").addClass("recompressJpeg"),$("#textcanvas").addClass("recompressJpeg"))}function storeSettings(){var t=parseFloat(jQuery("#dialog-setting-pagespacing_adjustment").val());unitSI=jQuery("#dialog-setting-unitSI").val();autoSaveTime=parseInt(jQuery("#mp-autosave-time").val());var i=jQuery("#dialog-setting-smart").prop("checked"),r=jQuery("#dialog-setting-findall").prop("checked"),u=jQuery("#dialog-setting-findnotes").prop("checked"),f=jQuery("#dialog-setting-PDFDupe").prop("checked"),e=jQuery("#dialog-setting-PDFCrop").prop("checked"),n=jQuery("#dialog-setting-PDFHiRes").prop("checked"),o=jQuery("#dialog-setting-codes").prop("checked"),s=jQuery("#dialog-setting-mobileshowtime").prop("checked"),h=jQuery("#dialog-menustyle-keepon").prop("checked");settings.imenupro.pagespacing_adj=t;settings.imenupro.unitSI=unitSI;settings.imenupro.autoSaveTime=autoSaveTime;settings.imenupro.smart=i;settings.imenupro.findall=r;settings.imenupro.findnotes=u;settings.imenupro.PDFdupe=f;settings.imenupro.PDFcrop=e;settings.imenupro.PDFhires=n;settings.imenupro.fcodes=o;settings.imenupro.mobileshowtime=s;settings.imenupro.keepon=h;resetSizeToolbar();setRecompress(n)}function restoreSettings(){var n=settings.imenupro;jQuery("#dialog-setting-pagespacing_adjustment").val(n.pagespacing_adj);jQuery("#dialog-setting-unitSI").val(n.unitSI);jQuery("#mp-autosave-time").val(n.autoSaveTime);jQuery("#dialog-setting-smart").prop("checked",n.smart);jQuery("#dialog-setting-findall").prop("checked",n.findall);jQuery("#dialog-setting-findnotes").prop("checked",n.findnotes);jQuery("#dialog-setting-PDFDupe").prop("checked",n.PDFdupe);jQuery("#dialog-setting-PDFCrop").prop("checked",n.PDFcrop);jQuery("#dialog-setting-PDFHiRes").prop("checked",n.PDFhires);jQuery("#dialog-setting-codes").prop("checked",n.fcodes);jQuery("#dialog-setting-mobileshowtime").prop("checked",n.mobileshowtime);jQuery("#dialog-menustyle-keepon").prop("checked",n.keepon);setLeafColor();autoSaveTime=parseInt(jQuery("#mp-autosave-time").val());setRecompress(n.PDFhires)}function storeCertiticate(){settings.imenupro.giftcert=certMenu}function restoreCertificate(){settings.imenupro.giftcert!=undefined&&settings.imenupro.giftcert!=""&&(certMenu=settings.imenupro.giftcert)}function storeGrid(){var n=jQuery("#dialog-grid-onmenu").prop("checked"),t=numToNum(jQuery("#dialog-grid-xval").val(),unitSI,"in",!0),i=numToNum(jQuery("#dialog-grid-yval").val(),unitSI,"in",!0),r=jQuery("#dialog-grid-color").spectrum("get").toRgbString(),u=parseInt(jQuery("input[name=foldstyle]:checked").val());settings.grid.is_visible=n;settings.grid.x_spacing=t;settings.grid.y_spacing=i;settings.grid.myColor=r;settings.grid.myFold=u}function resetGrid(){jQuery("#dialog-grid-onmenu").prop("checked",settings.grid.is_visible);jQuery("#dialog-grid-xval").val(numToNum(settings.grid.x_spacing,"in",unitSI));jQuery("#dialog-grid-yval").val(numToNum(settings.grid.y_spacing,"in",unitSI));jQuery("#dialog-grid-color").spectrum("set",settings.grid.myColor);var n=settings.grid.myFold;jQuery("input[name=foldstyle]:eq("+n+")").prop("checked","checked")}function storeMenuCover(){var n=jQuery("#dialog-menucover-onmenu").prop("checked"),t=jQuery("#dialog-menucover-color").spectrum("get").toRgbString(),i=jQuery("input[name=coverstyle]:checked").val(),r=jQuery("#cover-preview-only").prop("checked");settings.menucover.is_visible=n;settings.menucover.myColor=t;settings.menucover.myCover=i;settings.menucover.preview_only=r}function resetMenuCover(){jQuery("#dialog-menucover-onmenu").prop("checked",settings.menucover.is_visible);jQuery("#dialog-menucover-color").spectrum("set",settings.menucover.myColor);var n=settings.menucover.myCover;jQuery("input[name=coverstyle]:eq("+n+")").prop("checked","checked");jQuery("#cover-preview-only").prop("checked",settings.menucover.preview_only)}function storeZoomSettings(){settings.zoom.value=parseInt($("#MPstatusBarView").text().slice(0,-1))}function storeViewSettings(){settings.view.mode=$("#classic-icon").hasClass("icon-ok")?0:1;settings.view.surface=$("#mp-view-ts-subtle").hasClass("icon-ok")?1:$("#mp-view-ts-linen").hasClass("icon-ok")?2:$("#mp-view-ts-screen").hasClass("icon-ok")?3:0;settings.view.foodview=$("#mp-sort-byalpha-icon").hasClass("icon-ok")?1:$("#mp-sort-byorder-icon").hasClass("icon-ok")?2:$("#mp-sort-bynote-icon").hasClass("icon-ok")?3:0;settings.view.viewnotes=$("#mp-hide-notes-icon").hasClass("icon-ok")?0:1;settings.view.listsize=$("#mp-short-list-icon").hasClass("icon-ok")?0:1;settings.view.listwidth=$("#mp-thin-list-icon").hasClass("icon-ok")?0:1;settings.view.openmenuview=$("#mp-view-menus-bylast").hasClass("icon-ok")?0:1;settings.view.openmenuthumb=$("#mp-openmenu-preview-icon").hasClass("icon-list")||kill_thumbs?0:1;settings.view.locksidebar=$("#mp-locksidebar-no-icon").hasClass("icon-ok")?0:1}function resetZoomSettings(){var n=settings.zoom.value;$("#sliderZoom").slider("value",n);update_menu_for_zoom(n)}function resetViewSettings(){settings.view.mode==1?toggleMenuView("#onlymenu-icon",!1,"login"):toggleMenuView("#classic-icon",!0,"login");settings.view.surface==1?toggleTableView("#mp-view-ts-subtle","subtle","login"):settings.view.surface==2?toggleTableView("#mp-view-ts-linen","linen","login"):settings.view.surface==3?toggleTableView("#mp-view-ts-screen","screen","login"):toggleTableView("#mp-view-ts-default","default","login");settings.view.foodview==1?toggleViewFoods("#mp-sort-byalpha-icon","login"):settings.view.foodview==2?toggleViewFoods("#mp-sort-byorder-icon","login"):settings.view.foodview==3?toggleViewFoods("#mp-sort-bynote-icon","login"):toggleViewFoods("#mp-sort-bydate-icon","login");settings.view.viewnotes==1?toggleNotes("show","login"):toggleNotes("hide","login");settings.view.listsize==1?toggleListSize("#mp-long-list-icon","login"):toggleListSize("#mp-short-list-icon","login");settings.view.listwidth==1?toggleListWidth("#mp-wide-list-icon","login"):toggleListWidth("#mp-thin-list-icon","login");settings.view.openmenuview==1?toggleMenuListView("#mp-view-menus-byalpha","login"):toggleMenuListView("#mp-view-menus-bylast","login");settings.view.openmenuthumb!=1||kill_thumbs?toggleMenuPreview(!1,"login"):toggleMenuPreview(!0,"login");settings.view.locksidebar==1?toggleLockSidebar("lock","login"):toggleLockSidebar("unlock","login");kill_thumbs&&$("#mp-openmenu-thumbstyle").hide()}function smartmark(n){var t=n.split(" ");return _.map(t,function(n){for(var t=0;t<smartmark_words.length;t+=2)n=n.replace(smartmark_words[t],smartmark_words[t+1]);return n}).join(" ")}function smartmark2(n){var i=jQuery("#dialog-setting-smart").prop("checked"),t;if(i)for(t=0;t<smartmark_words.length;t+=2)n=n.replace(smartmark_words[t],smartmark_words[t+1]);return n}function sortSmartMark(n){return n==undefined&&(n=settings.smartmark.wordlist),n.keySort({changeto:"asc"})}function listSmartMark(n){return'<i class="icon-off-menu14"><\/i><span class="fooditem-name" id="smartid_'+n.id+'"> '+n.word+'<br><\/span><br><span class="MPReplaceFont"><i class="icon-hand-right"><\/i> '+n.changeto+"<\/span>"}function loadSmartmarkUI(){var n,t;jQuery("#mp-search-smartmark").val("");jQuery("#mySmartMarkList").removeClass("bluehalo");settings.smartmark.wordcount==-1?(n=[{id:"1",word:"(c)",changeto:"©"},{id:"2",word:"(ct)",changeto:"¢"},{id:"3",word:"(r)",changeto:"®"},{id:"4",word:"(tm)",changeto:"™"},{id:"5",word:"1/2",changeto:"½"},{id:"6",word:"1/3",changeto:"⅓"},{id:"7",word:"1/4",changeto:"¼"},{id:"8",word:"cafe",changeto:"café"},{id:"9",word:"entree",changeto:"entrée"},{id:"10",word:"entrees",changeto:"entrées"},{id:"11",word:"etouffee",changeto:"étouffée"},{id:"12",word:"flambe",changeto:"flambé"},{id:"13",word:"frappe",changeto:"frappé"},{id:"14",word:"fricassee",changeto:"fricassée"},{id:"15",word:"Kummel",changeto:"Kümmel"},{id:"16",word:"Munster",changeto:"Münster"},{id:"17",word:"pate",changeto:"pâté"},{id:"18",word:"perignon",changeto:"pérignon"},{id:"19",word:"saute",changeto:"sauté"},{id:"20",word:"sauteed",changeto:"sautéed"},{id:"21",word:"souffle",changeto:"soufflé"},{id:"22",word:"Truffel",changeto:"Trüffel"}],settings.smartmark.wordlist=n,settings.smartmark.wordcount=n.length):settings.smartmark.wordcount==0&&(t=[{id:"1",word:"(ct)",changeto:"¢"},{id:"2",word:"cafe",changeto:"café"},{id:"3",word:"entrees",changeto:"entrées"},],settings.smartmark.wordlist=t,settings.smartmark.wordcount=t.length);smartmark_words=genSmartmark_list();$("#mySmartMarkList").megalist();fixSmartMark();$("#mySmartMarkList").megalist("setLabelFunction",listSmartMark);$("#mySmartMarkList").megalist("setDataProvider",sortSmartMark())}function fixSmartMark(n){var t=6;n==undefined&&(n=settings.smartmark.wordlist);typeof n=="boolean"?$("#mySmartMarkList").css("height","0px"):n.length<=t-1?$("#mySmartMarkList").css("height",41*n.length-1+"px"):$("#mySmartMarkList").css("height",41*t-1+"px")}function genSmartmark_list(){var i=settings.smartmark.wordlist,n=[],r=/[ \w]+/,t=/(\W)/g;return _.each(i,function(i){if(i.word.replace(r,"")=="")var u="\\b"+i.word+"\\b",f="\\b"+i.word.capitalize()+"\\b",e="\\b"+i.word.toUpperCase()+"\\b",o="\\b"+i.word.toLowerCase()+"\\b";else var u=i.word.replace(t,"\\$1"),f=i.word.capitalize().replace(t,"\\$1"),e=i.word.toUpperCase().replace(t,"\\$1"),o=i.word.toLowerCase().replace(t,"\\$1");n.push(new RegExp(u,"g"));n.push(i.changeto);u!=f&&(n.push(new RegExp(f,"g")),n.push(i.changeto.capitalize()));e!=u&&(n.push(new RegExp(e,"g")),n.push(i.changeto.toUpperCase()));o!=u&&(n.push(new RegExp(o,"g")),n.push(i.changeto.toLowerCase()))}),n}function searchSmartMark(){var n=settings.smartmark.wordlist,t=jQuery("#mp-search-smartmark").val().toLowerCase();return t!=""?(n=_.filter(n,function(n){return n.word.toLowerCase().indexOf(t)>-1||n.changeto.toLowerCase().indexOf(t)>-1}),jQuery("#mySmartMarkList").addClass("bluehalo")):jQuery("#mySmartMarkList").removeClass("bluehalo"),n}function toggleMenuListView(n,t){$("#mp-view-menus-bylast").removeClass("icon-ok");$("#mp-view-menus-bylast").addClass("no-menu-icon");$("#mp-view-menus-byalpha").removeClass("icon-ok");$("#mp-view-menus-byalpha").addClass("no-menu-icon");$(n).removeClass("no-menu-icon");$(n).addClass("icon-ok");t!="login"&&storeViewSettings();var i=searchMenuTitle();jQuery("#myMenuList").megalist("setDataProvider",sortMenuTitle(i))}function toggleMenuPreview(n,t){var r,i;n?($("#mp-openmenu-preview-icon").removeClass("icon-list"),$("#mp-openmenu-preview-icon").addClass("icon-th-list")):($("#mp-openmenu-preview-icon").removeClass("icon-th-list"),$("#mp-openmenu-preview-icon").addClass("icon-list"));t!="login"&&(r=$("#myMenuList").megalist("getSelectedIndex")!=0?mega_SelectedIndex:-1);t!="login"&&storeViewSettings();i=searchMenuTitle();t!="login"&&fixMenuData(i);jQuery("#myMenuList").megalist("setDataProvider",sortMenuTitle(i));t!="login"&&$("#myMenuList").megalist("setSelectedIndexMove",r)}function storePageSetup(n){var h=parseInt(jQuery("input[name=paperorientation]:checked").val()),c=jQuery("#dialog-page-size").val(),i=numToNum(jQuery("#dialog-page-custom_width").val(),unitSI,"in",!0),r=numToNum(jQuery("#dialog-page-custom_height").val(),unitSI,"in",!0),f=parseFloat(numToNum(jQuery("#dialog-page-top").val(),unitSI,"in",!0).toFixed(4)),e=parseFloat(numToNum(jQuery("#dialog-page-bottom").val(),unitSI,"in",!0).toFixed(4)),o=parseFloat(numToNum(jQuery("#dialog-page-left").val(),unitSI,"in",!0).toFixed(4)),s=parseFloat(numToNum(jQuery("#dialog-page-right").val(),unitSI,"in",!0).toFixed(4)),l=f+","+s+","+e+","+o;(isNaN(i)||i==null)&&(i=8.5);(isNaN(r)||r==null)&&(r=11);var t=JSON.parse(sessionStorage.getItem("menufile")),u=JSON.parse(sessionStorage.getItem("override.css")),a=getItem("origCSS");t.pagesetup.orientation=h;t.pagesetup.margin=1;t.pagesetup.papersize=c;t.pagesetup.customheight=r;t.pagesetup.customwidth=i;n?(u[".page-margins"]={},u[".page-margins"].margins=f+","+s+","+e+","+o):reset=="reset_page_margins"&&delete u[".page-margins"];sessionStorage.setItem("menufile",JSON.stringify(t));sessionStorage.setItem("override.css",JSON.stringify(u));resetPageDim();updatePageMarginGlobal("Store Page setup");drawGrid();drawMenuCover();loadBorder();loadBackground()}function resetPageDim(n){var f=parseInt(jQuery("input[name=paperorientation]:checked").val()),t=jQuery("#dialog-page-size").val(),e=jQuery("#dialog-page-custom_width").val(),o=jQuery("#dialog-page-custom_height").val(),r,i,u;t=="US-Letter"?(page_width=8.5,page_height=11):t=="US-Legal"?(page_width=8.5,page_height=14):t=="US-Tabloid"?(page_width=11,page_height=17):t=="ansi-c"?(page_width=17,page_height=22):t=="US-Statement"?(page_width=5.5,page_height=8.5):t=="A3"?(page_width=11.69,page_height=16.54):t=="A4"?(page_width=8.27,page_height=11.69):t=="A5"?(page_width=5.83,page_height=8.27):t=="B4"?(page_width=9.84,page_height=13.9):t=="B5"?(page_width=6.93,page_height=9.84):t=="Custom"&&(page_width=numToNum(e,unitSI,"in",!0),page_height=numToNum(o,unitSI,"in",!0));f&&(r=page_width,page_width=page_height,page_height=r);n||(i=document.getElementsByTagName("svg")[1],i.viewBox.baseVal.height=parseInt(page_height*96),i.viewBox.baseVal.width=parseInt(page_width*96),i.width.baseVal.valueAsString=page_width+"in",i.height.baseVal.valueAsString=page_height+"in",$("#faux-click").attr("width",page_width-.2+"in"),$("#faux-click").attr("height",page_height-.2+"in"),$("#faux-outline").attr("width",page_width+"in"),$("#faux-outline").attr("height",page_height+"in"),$("#faux-white-background").attr("width",page_width+"in"),$("#faux-white-background").attr("height",page_height+"in"),$("#anime-f1").attr("to",page_width+1+"in"),u=parseInt(jQuery("#MPstatusBarView").text().slice(0,-1)),update_menu_for_zoom(u),resetSizeToolbar())}function resetSizeToolbar(){var n,t;unitSI=="mm"?(n=parseFloat(numToNum(page_width,"in",unitSI,!0)).toFixed(0)+"mm",t=parseFloat(numToNum(page_height,"in",unitSI,!0)).toFixed(0)+"mm"):(n=numToNum(page_width,"in",unitSI),t=numToNum(page_height,"in",unitSI));jQuery("#MPstatusBarPageSize").text("Size: "+n+" x "+t)}function resetColumnWidthGlobal(){calculate_col_width()}function updatePageMarginGlobal(){var t=getItem("origCSS"),i=getItem("override.css"),n;jQuery.extend(!0,t,i);n=t[".page-margins"].margins.split(",");top_margin=parseFloat(parseFloat(n[0]).toFixed(4));right_margin=parseFloat(parseFloat(n[1]).toFixed(4));bottom_margin=parseFloat(parseFloat(n[2]).toFixed(4));left_margin=parseFloat(parseFloat(n[3]).toFixed(4))}function checkPageSetupMargin(){var n=2.1,t=tmpTop=numToNum(jQuery("#dialog-page-top").val(),unitSI,"in",!0),i=tmpBottom=numToNum(jQuery("#dialog-page-bottom").val(),unitSI,"in",!0),r=tmpLeft=numToNum(jQuery("#dialog-page-left").val(),unitSI,"in",!0),u=tmpRight=numToNum(jQuery("#dialog-page-right").val(),unitSI,"in",!0);t>=page_height-n?(tmpTop=page_height-n,tmpBottom=0):t+i>=page_height-n&&(tmpBottom=page_height-n-t);r>=page_width-n?(tmpLeft=page_width-n,tmpRight=0):r+u>=page_width-n&&(tmpRight=page_width-n-tmpLeft);i!=tmpBottom&&(jQuery("#dialog-page-top").val(numToNum(tmpTop,"in",unitSI)),jQuery("#dialog-page-bottom").val(numToNum(tmpBottom,"in",unitSI)),doAlert(92,null,4e3,!0));u!=tmpRight&&(jQuery("#dialog-page-right").val(numToNum(tmpRight,"in",unitSI)),jQuery("#dialog-page-left").val(numToNum(tmpLeft,"in",unitSI)),doAlert(92,null,4e3,!0))}function resetPageSetupPaper(){var t=JSON.parse(sessionStorage.getItem("menufile")),n=t.pagesetup;jQuery("input[name=paperorientation]:eq("+n.orientation+")").prop("checked",!0);jQuery("#dialog-page-size").val(n.papersize);jQuery("#dialog-page-custom_width").val(numToNum(n.customwidth,"in",unitSI));jQuery("#dialog-page-custom_height").val(numToNum(n.customheight,"in",unitSI));resetPageCustomInput(t.pagesetup.papersize=="Custom")}function resetPageCustomInput(n){jQuery("#dialog-page-custom_width").prop("disabled",!n);jQuery("#dialog-page-custom_height").prop("disabled",!n);n?$(".spanPageSetupCustomText").removeClass("muted"):$(".spanPageSetupCustomText").addClass("muted")}function resetPageSetupMargins(n){var i=getItem("origCSS"),r,t;n&&(r=getItem("override.css"),jQuery.extend(!0,i,r));t=i[".page-margins"].margins.split(",");jQuery("#dialog-page-top").val(numToNum(t[0],"in",unitSI));jQuery("#dialog-page-right").val(numToNum(t[1],"in",unitSI));jQuery("#dialog-page-bottom").val(numToNum(t[2],"in",unitSI));jQuery("#dialog-page-left").val(numToNum(t[3],"in",unitSI))}function getMenuFilePageSpacing(){var n=JSON.parse(sessionStorage.getItem("menufile"));return parseFloat(n.pagesetup.pagespacing[page_no])}function showResponseError(){doAlert(340,null,6e3,!0)}function showResponse(n){var t,i,r,u,f;for(sessionStorage.setItem("fooditems",n),t=JSON.parse(n),jQuery("#data_preview").children().remove(),i="                                ",t.length==2002?$("#datapreview-text").html("<b>Data Preview<\/b> (<em>Partial<\/em>)"):$("#datapreview-text").html("<b>Data Preview<\/b>"),intI=0;intI<t.length-1;intI++)r=decodeFood(encodeURIComponent(t[intI].name).replace(/%0D|%0A/g," ")),r=(r.decodeEntities()+i).substring(0,17),u=decodeFood(encodeURIComponent(t[intI].description).replace(/%0D|%0A/g," ")),u=(u.decodeEntities()+i).substring(0,30),f=decodeFood(encodeURIComponent(t[intI].price)),f=(f.decodeEntities()+i).substring(0,6),jQuery("#data_preview").append('<option value="">'+r+"&nbsp;|&nbsp;"+u+"&nbsp;|&nbsp;"+f+"<\/option>")}function showImportAlert(n){var t=JSON.parse(n);doAlert(t.message,"success",4100,!0);async.parallel([function(n){var t=jQuery("#access_token").val(),i="/api/food/all/"+t+"/"+Date.now();async_library.get(i,n)}],function(n,t){processFoodData(t[0]);$("#myFoodList").addClass("greenhalo");setTimeout(function(){$("#myFoodList").removeClass("greenhalo")},3e3);$("#myFoodList").megalist("setSelectedIndexMove",9e3)})}function showImportError(n){var t=JSON.parse(n.responseText);doAlert(t.message,"error",7e3,!0);last_fileuploaded=""}function decodeFood(n){return decodeURIComponent(n).replace(/ /g,"&nbsp;")}function resetInputForm(){jQuery("#data_preview").children().remove();$("#data_preview").append('<option value="">NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;DESCRIPTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;PRICE<\/option>');$("#data_preview").append('<option value="">Example Name #1..&nbsp;|&nbsp;Description for 1st item......&nbsp;|&nbsp;12.95<\/option>');$("#data_preview").append('<option value="">Example Name #2..&nbsp;|&nbsp;Description for 2nd item......&nbsp;|&nbsp;13.95<\/option>');$("#data_preview").append('<option value="">Example Name #3..&nbsp;|&nbsp;Description for 3rd item......&nbsp;|&nbsp;10.95<\/option>');$("#datapreview-text").html("<b>Data Preview<\/b>");$("#mycsv_form")[0].reset();$('#mp-imp-fooditems > input[type="hidden"]').attr("name","");$("#mycsv_file").attr("name","mycsv_file[]")}function closeMoreMobile(){$("#mobile-more").addClass("hide");$("#mobile-less").removeClass("hide");$("#more-text").text("more...")}function check_mobile_icon(n){Mobile!=""||n=="sync"?$("#MPMobileIcon").css("display","inline-block"):$("#MPMobileIcon").css("display","none")}function loadCertPaperColor(){jQuery("#mp-cert-background").val()=="paper"?(jQuery(".spanCertPaperColorText").removeClass("muted"),jQuery("#cert-paper-color").spectrum("enable")):(jQuery(".spanCertPaperColorText").addClass("muted"),jQuery("#cert-paper-color").spectrum("disable"))}function drawUserImageCE(n,t){bmpTestWarn(n);jQuery("#jansy-img-uploadCE").fileupload("reset");jQuery("#myUploadPreviewCE").html('<img src="" >');jQuery("#myUploadPreviewCE img").attr("src",n);jQuery("#myUploadPreviewCE img").attr("class",t)}function resetUploadCertLogoUI(){$("#myUploadPreviewCE").removeClass("dont_select_ptr");$("#mp-ce-photomap, #mp-up-browse-noteCE").hide();$("#mp-giftcert-footer").show();$("#mp-ce-certmap").show();$("#mp-certlogostate").hasClass("mp-newphoto")&&($("#jansyUploadWellCE").show(),jQuery("#myUploadPreviewCE").html('<img src="" >'),jQuery("#myUploadPreviewCE img").attr("src","bootstrap/img/68x51b.png"));$("#mp-imgupload-deletepanelCE").hide();$("#mp-imgupload-trashcanCE").hide();$("#mp-ce-useimg-div").show();$("#mp-ce-useimg-hr").show();$("#mp-imgupload-findCE").show();$("#mp-up-trash-divCE").show();$("#mp-imgupload-searchCE").show();$("#mp-imgupload-cancel-selectCE").show();$("#mp-imgupload-selectCE").show();$("#mp-up-browse-noteCE").show();$("#jansy-img-uploadCE").fileupload("reset");$("#myUploadImgListCE").megalist("setSelectedIndexMove",-1);resetUISearchCE()}var autoSave_changed,menulist_labelfunc_done,new_tip_done,temp_saved_name,saveclickinprogress,pdfWindow,form_options,last_fileuploaded,fit_active,mobile_settings_changed;$("#WelcomeToiMenuPro").on("shown",function(){});$("#dialog-welcome-ok").on("click",function(n){n.preventDefault();$("#WelcomeToiMenuPro").modal("hide");doTour()});jQuery("#dialog-welcome-cancel,#dialog-welcome-x").on("click",function(n){n.preventDefault();$("#WelcomeToiMenuPro").modal("hide");demoMenu&&imp_demo_msg!=""&&doAlert(imp_demo_msg,"noticeb",6e3,!0,"top-left")});$("#WelcomeToiMenuPro").keyup(function(n){n.which==27&&($("#WelcomeToiMenuPro").modal("hide"),demoMenu&&imp_demo_msg!=""&&doAlert(imp_demo_msg,"noticeb",6e3,!0,"top-left"))});jQuery("#myAccountSettingsDialog").on("shown",function(){$("#closepassword").val("");$("#oldpassword").val("");$("#newpassword").val("");$("#password-foremail").val("");$("#email-address").val("");$("#collapseEmail").hide();$("#collapsePassword").hide();$("#collapseCloseAccount").hide()});jQuery("#close-account").on("click",function(n){n.preventDefault();var i=jQuery("#access_token").val(),t=jQuery("#closepassword").val();t&&(save_settings(),userA_loggingout_andsaving=!0,save_menu(),jQuery.post("/tools/token-unsubscribe",{access_token:i,password:t},function(n){n.status=="OK"&&(doAlert("Account Closed","success",null,!1,"top-left"),jQuery("#collapseCloseAccount").hide(),window.onbeforeunload=null,alert("Your account has been successfully closed. We're sorry to see you go and we hope to see again in the future."),window.location.href="/signup")},"json").fail(function(n){var i=JSON.parse(n.responseText);doAlert(i.message,"danger",9e3,!0);t=jQuery("#closepassword").val("")}))});jQuery("#myAddOnsDialog").on("shown",function(){$("#collapsecufonts").hide();$("#collapsePac1").hide();$("#collapsettcreator").hide();$("#collapsegccreator").hide();$("#collapse1yearpass").hide()});$("#expandcufonts").on("click",function(){warnIEFontUsers()});jQuery("#buy-pac1").on("click",function(){var n=jQuery("#access_token").val(),t=confirm(addon_pac1_confirm);t&&(doAlert(52),jQuery.post("/tools/token-addpack1",{access_token:n},function(n){n.status=="failed"?doAlert(""+n.result,"danger",15e3,!0):n.status=="OK"&&(doAlert(66,null,9e3,!0),jQuery("#buy-pac1").attr("disabled",!0),jQuery("#stylepac1-purchased").html("<code>Purchased<\/code>"),loadMenuStyleAsync())},"json").fail(function(n){var t=JSON.parse(n.responseText);t.message!=null&&t.message!=""&&t.message!=undefined?(doAlert("Unable to process charge. "+t.message,"danger",9e3,!0),jQuery("#buy-pac1").attr("disabled",!1),jQuery("#stylepac1-purchased").html("<code>Available<\/code>")):doAlert(68,null,9e3,!0)}))});jQuery("#buy-ttcreator").on("click",function(){var n=jQuery("#access_token").val(),t=confirm(addon_tt_confirm);t&&(doAlert(52),jQuery.post("/tools/token-addttcreator",{access_token:n},function(n){n.status=="failed"?doAlert(""+n.result,"danger",15e3,!0):n.status=="OK"&&(doAlert(94,null,9e3,!0),jQuery("#buy-ttcreator").attr("disabled",!0),jQuery("#ttcreator-purchased").html("<code>Purchased<\/code>"),jQuery("#menu-create-tt").removeClass("disabled"))},"json").fail(function(n){var t=JSON.parse(n.responseText);t.message!=null&&t.message!=""&&t.message!=undefined?(doAlert("Unable to process charge. "+t.message,"danger",9e3,!0),jQuery("#buy-ttcreator").attr("disabled",!1),jQuery("#ttcreator-purchased").html("<code>Available<\/code>")):doAlert(68,null,9e3,!0)}))});jQuery("#buy-gccreator").on("click",function(){var n=jQuery("#access_token").val(),t=confirm(addon_gc_confirm);t&&(doAlert(52),jQuery.post("/tools/token-addgccreator",{access_token:n},function(n){n.status=="failed"?doAlert(""+n.result,"danger",15e3,!0):n.status=="OK"&&(doAlert(306,null,9e3,!0),jQuery("#buy-gccreator").attr("disabled",!0),jQuery("#gccreator-purchased").html("<code>Purchased<\/code>"),jQuery("#mp-giftcert-icon").removeClass("no-menu-icon"),jQuery("#mp-giftcert-icon").addClass("icon-gift"),$("#mp-print-cert-btn").removeClass("disabled"))},"json").fail(function(n){var t=JSON.parse(n.responseText);t.message!=null&&t.message!=""&&t.message!=undefined?(doAlert("Unable to process charge. "+t.message,"danger",9e3,!0),jQuery("#buy-gccreator").attr("disabled",!1),jQuery("#gccreator-purchased").html("<code>Available<\/code>")):doAlert(68,null,9e3,!0)}))});jQuery("#buy-cufonts").on("click",function(){var n=jQuery("#access_token").val(),t=confirm(addon_cufonts_confirm);t&&(doAlert(52),jQuery.post("/tools/token-addcufonts",{access_token:n},function(n){n.status=="failed"?doAlert(""+n.result,"danger",15e3,!0):n.status=="OK"&&(doAlert(332,null,9e3,!0),jQuery("#buy-cufonts").attr("disabled",!0),jQuery("#cufonts-purchased").html("<code>Purchased<\/code>"),$("#mp-imgupload-btnFONT").removeClass("disabled"))},"json").fail(function(n){var t=JSON.parse(n.responseText);t.message!=null&&t.message!=""&&t.message!=undefined?(doAlert("Unable to process charge. "+t.message,"danger",9e3,!0),jQuery("#buy-cufonts").attr("disabled",!1),jQuery("#cufonts-purchased").html("<code>Available<\/code>")):doAlert(68,null,9e3,!0)}))});jQuery("#buy-1yearpass").on("click",function(){var n=jQuery("#access_token").val(),t=confirm(addon_1year_confirm);t&&(doAlert(52),jQuery.post("/tools/token-add1yearpass",{access_token:n},function(n){n.status=="failed"?doAlert(""+n.result,"danger",15e3,!0):n.status=="OK"&&(doAlert(236,null,9e3,!0),jQuery("#buy-1yearpass").attr("disabled",!0),jQuery("#1yearpass-purchased").html("<code>Purchased<\/code>"))},"json").fail(function(n){var t=JSON.parse(n.responseText);t.message!=null&&t.message!=""&&t.message!=undefined?(doAlert("Unable to process charge. "+t.message,"danger",9e3,!0),jQuery("#buy-1yearpass").attr("disabled",!1),jQuery("#1yearpass-purchased").html("<code>Available<\/code>")):doAlert(68,null,9e3,!0)}))});jQuery("#change_password").on("click",function(){jQuery(".notifications.login").children().remove();var t=jQuery("#oldpassword").val(),n=jQuery("#newpassword").val(),i=jQuery("#access_token").val();n.length<6?doAlert(22,null,5e3,!0):jQuery.post("/tools/token-change-pw",{access_token:i,oldpassword:t,newpassword:n},"json").done(function(){doAlert(40,null,4e3,!0);jQuery("#oldpassword").val("");jQuery("#newpassword").val("");jQuery("#collapsePassword").hide()}).fail(function(){doAlert(42,null,5e3,!0);jQuery("#oldpassword").val("");jQuery("#newpassword").val("")})});jQuery("#change_email").on("click",function(){jQuery(".notifications.login").children().remove();var t=jQuery("#password-foremail").val(),n=jQuery("#email-address").val(),i=jQuery("#access_token").val();$("#email-address").is(":invalid")?doAlert(30,null,5e3,!0):jQuery.post("/tools/token-change-email",{access_token:i,password:t,new_email:n},"json").done(function(){doAlert(44,null,4e3,!0);jQuery("#mp-acct-email").text(n);jQuery("#MPuseracct").text(n);jQuery("#password-foremail").val("");jQuery("#email-address").val("");jQuery("#collapseEmail").hide()}).fail(function(n){n.responseText.match("Duplicate")?doAlert(28,null,5e3,!0):doAlert(46,null,5e3,!0);jQuery("#password-foremail").val("")})});jQuery("#dialog-account-help").on("click",function(){window.open("http://help.imenupro.com/account-faq.htm")});jQuery("#btn-out-zoom").on("click",function(n){n.preventDefault();$("#btn-out-zoom").tooltip("hide");var r=document.getElementsByTagName("svg")[1],t=parseInt(jQuery("#MPstatusBarView").text().slice(0,-1)),i=t-15>25?t-15:25;$("#sliderZoom").slider("value",i);update_menu_for_zoom(i);storeZoomSettings()});jQuery("#btn-in-zoom").on("click",function(n){n.preventDefault();$("#btn-in-zoom").tooltip("hide");var r=document.getElementsByTagName("svg")[1],t=parseInt(jQuery("#MPstatusBarView").text().slice(0,-1)),i=t+15<205?t+15:205;update_menu_for_zoom(i);$("#sliderZoom").slider("value",i);storeZoomSettings()});jQuery("#dropdown-view-zoom55, #dropdown-view-zoom70, #dropdown-view-zoom100, #dropdown-view-zoom130").on("click",function(n){n.preventDefault();var i=jQuery(this).text(),t=parseInt(i);update_menu_for_zoom(t);$("#sliderZoom").slider("value",t);storeZoomSettings()});jQuery("#btn-next-page").on("click",function(n){n.preventDefault();$("#btn-next-page").tooltip("hide");start_spinner();setTimeout(function(){var n=page_no;page_no<maxMenuPages-1?(iMenuPro.cont_text("next"),page_no!=n&&(iMenuPro.draw_floattext(),iMenuPro.draw_images())):(doAlert(130,null,5e3,!0),stop_spinner())},minSpinOffload)});jQuery("#btn-prev-page").on("click",function(n){n.preventDefault();$("#btn-prev-page").tooltip("hide");start_spinner();setTimeout(function(){iMenuPro.prev_text()},minSpinOffload)});jQuery("#dialog-grid-ok").on("click",function(n){n.preventDefault();jQuery("#myGridOptionsDialog").modal("hide");storeGrid()});jQuery("#dialog-grid-onmenu").on("click",function(){drawGrid()});jQuery("#dialog-grid-xval,#dialog-grid-yval,input[name=foldstyle]").on("change",function(){drawGrid()});jQuery("#dialog-grid-cancel,#dialog-grid-x").on("click",function(n){n.preventDefault();resetGrid();drawGrid()});$("#myGridOptionsDialog").keyup(function(n){n.which==27&&(resetGrid(),drawGrid())});jQuery("#dialog-grid-help").on("click",function(){window.open("http://help.imenupro.com/tools-settings.htm#imenupro-views")});autoSave_changed=!1;jQuery("#dialog-setting-ok").on("click",function(n){n.preventDefault();resetUnitSI();var t=parseInt($("#mp-autosave-time").val());(isNaN(t)||t<0||t>999)&&($("#mp-autosave-time").val("10"),doAlert(172,null,4e3,!0));storeSettings();autoSave_changed&&(startAutoSave(),autoSave_changed=!1);jQuery("#myiMenuProSettingsDialog").modal("hide")});jQuery("#dialog-setting-cancel,#dialog-settings-x").on("click",function(n){n.preventDefault();restoreSettings();autoSave_changed=!1;jQuery("#myiMenuProSettingsDialog").modal("hide")});$("#myiMenuProSettingsDialog").keyup(function(n){n.which==27&&(restoreSettings(),autoSave_changed=!1,jQuery("#myiMenuProSettingsDialog").modal("hide"))});jQuery("#dialog-settings-help").on("click",function(){window.open("http://help.imenupro.com/tools-settings.htm#imenupro-settings")});$("#dialog-menustyle-keepon").on("change",function(){setLeafColor()});$("#mp-autosave-time").on("change",function(){autoSave_changed=!0});jQuery("#dialog-menucover-ok").on("click",function(n){n.preventDefault();jQuery("#myMenuCoverDialog").modal("hide");storeMenuCover()});jQuery("#dialog-menucover-cancel,#dialog-menucover-x").on("click",function(n){n.preventDefault();resetMenuCover();drawMenuCover()});$("#myMenuCoverDialog").keyup(function(n){n.which==27&&(resetMenuCover(),drawMenuCover())});jQuery("#dialog-menucover-help").on("click",function(){window.open("http://help.imenupro.com/tools-settings.htm#imenupro-views")});jQuery("#dialog-menucover-onmenu,input[name=coverstyle]").on("change",function(){drawMenuCover()});$("#dialog-smartmark-done, #dialog-smartmark-x").on("click",function(n){n.preventDefault();$("#mySmartMarkDialog").modal("hide");loadSmartmarkUI();smartmark_words=genSmartmark_list();$("#mp-search-smartmark").val("");$("#mp-replace-word").val("");$("#mp-with-word").val("")});$("#mySmartMarkDialog").keyup(function(n){n.which==27&&(loadSmartmarkUI(),smartmark_words=genSmartmark_list(),$("#mp-search-smartmark").val(""),$("#mp-replace-word").val(""),$("#mp-with-word").val(""))});$("#dialog-smartmark-help").on("click",function(){window.open("http://help.imenupro.com/tools-settings.htm#smart-mark")});$("#mySmartMarkList").on("change",function(n){var t=jQuery(n.srcElement.get()[0]).find("span").attr("id");reset="smartmark:"+t.replace(/smartid_/,"");jQuery("#mp-remove-word").attr("disabled",!1)});jQuery("#mp-remove-word").on("click",function(n){if(n.preventDefault(),reset.indexOf("smartmark:")>-1){var t=reset.slice(10),i=_.pluck(settings.smartmark.wordlist,"id"),r=_.indexOf(i,t);settings.smartmark.wordlist.splice(r,1);settings.smartmark.wordcount=settings.smartmark.wordlist.length;loadSmartmarkUI()}jQuery("#mp-search-smartmark").val("");jQuery("#mySmartMarkList").removeClass("bluehalo");jQuery("#mp-replace-word").val("");jQuery("#mp-with-word").val("");jQuery("#mp-remove-word").attr("disabled",!0)});jQuery("#mp-add-word").on("click",function(n){var t,u,f;n.preventDefault();var i=jQuery("#mp-replace-word").val(),r=jQuery("#mp-with-word").val();jQuery("#mp-search-smartmark").val("");jQuery("#mySmartMarkList").removeClass("bluehalo");settings.smartmark.wordlist.length>100&&doAlert(180,null,4e3,!0);i==""||r==""||(i.replace(/[^ '"&<>]/g,"")!=""||r.replace(/[^ '"&<>]/g,"")!=""?doAlert(178,null,4e3,!0):(t=_.pluck(settings.smartmark.wordlist,"id"),u=_.range(1,t.length+3),t=_.map(t,function(n){return parseInt(n)}),f=_.difference(u,t),settings.smartmark.wordlist.push({id:f[0]+"",word:i,changeto:r}),loadSmartmarkUI(),jQuery("#mp-replace-word").val(""),jQuery("#mp-with-word").val("")))});jQuery("#mp-search-smartmark").keyup(function(n){n.which==13&&n.preventDefault();n.which==27&&jQuery("#mp-search-menus").val("");var t=searchSmartMark();fixSmartMark(t);$("#mySmartMarkList").megalist("setDataProvider",sortSmartMark(t))});$("#myOpenMenuDialog").on("shown",function(){$("#myMenuList").removeClass("bluehalo");$("#mp-search-menus").blur();$("#mp-search-menus").val("");var n=getItem("menuTitle");n.length<=1?(toggleMenuPreview(!1),$("#mp-openmenu-thumbstyle").hide()):$("#mp-openmenu-thumbstyle").show();fixMenuData(n);$("#myMenuList").megalist("setDataProvider",sortMenuTitle(n))});$("#mp-openmenu-thumbstyle").click(function(n){n.preventDefault();$("#mp-openmenu-preview-icon").hasClass("icon-list")?toggleMenuPreview(!0):toggleMenuPreview(!1)});menulist_labelfunc_done=!1;jQuery("#myOpenMenu, #button-openmenu").click(function(n){n.preventDefault();menulist_labelfunc_done||($("#myMenuList").megalist("setLabelFunction",listMenuTitle),menulist_labelfunc_set=!0);$("#menu-make-open").hasClass("disabled")?doAlert(108,null,4e3,!0):jQuery("#myOpenMenuDialog").modal("show")});$("#dialog-openmenu-ok").on("click",function(n){var t,i;n.preventDefault();$("#myOpenMenuDialog").modal("hide");mp_predo("na");t=getItem("menufile");reset.indexOf("menulist:menuid")>-1&&parseInt(t.menuID)!=parseInt(reset.slice(16))?(i=reset.slice(16),check_menu(i).done(function(n){if(n.results==0){doAlert(164,null,12e3,!0);return}open_menu(i)}).fail(function(n,t){t=="timeout"||n.responseJSON==undefined?(doAlert(206,null,9e3,!0),console.log("Connection seems dead!(open menu)")):n.responseJSON.error=="invalid_client"?(doAlert(208,null,9e3,!0),console.log("Token has expired! (open menu)")):(doAlert(210,null,9e3,!0),console.log("Something failed on server! (open menu)"))})):parseInt(t.menuID)==parseInt(reset.slice(16))&&doAlert(138,null,2e3,!0);reset=""});$("#dialog-openmenu-cancel, #dialog-openmenu-x").on("click",function(n){n.preventDefault();reset=""});$("#myOpenMenuDialog").keyup(function(n){n.which==27});$("#mp-search-menus").keypress(function(n){n.which==13&&n.preventDefault()});jQuery("#dialog-openmenu-help").on("click",function(){window.open("http://help.imenupro.com/getting-started.htm#menu-files")});$("#dialog-openmenu-help").on("click",function(){window.open("http://help.imenupro.com/getting-started.htm#menu-files")});new_tip_done=!1;$("#myNewMenu").click(function(n){if(n.preventDefault(),mp_predo("na"),demoMenu)new_menu("nosave");else{var t=getItem("menufile");t.menuID!="1"||new_tip_done||(doAlert(264,null,6e3,!0),new_tip_done=!0);new_menu()}});jQuery("#myDeleteMenu, #MPDeleteIcon").click(function(n){if(n.preventDefault(),nosaveMenu||noloadedMenu){doAlert("No save","info",1e3,!0);return}$("#menu-make-delete").hasClass("disabled")?doAlert(108,null,4e3,!0):(jQuery("#myDeleteMenuModal").modal("show"),Mobile!=""?$("#mp-noundo-delmenu").text("This menu will be permanently removed and the mobile menu that is synced with it will be deleted as well. You won't be able to undo this action."):$("#mp-noundo-delmenu").text("This menu will be permanently removed and you won't be able to undo this action."))});$("#dialog-deletemenu-yes").click(function(n){n.preventDefault();$("#myDeleteMenuModal").modal("hide");mp_predo("na");delete_menu()});jQuery("#myRevertMenu").click(function(n){n.preventDefault();$("#menu-make-revert").hasClass("disabled")?doAlert(108,null,4e3,!0):jQuery("#myRevertModal").modal("show")});$("#dialog-revert-yes").click(function(n){n.preventDefault();$("#myRevertModal").modal("hide");mp_predo("revert");ignore_openmenu_predos=!0;save_revert_predo();setTimeout(function(){load_revert()},30)});jQuery("#myRenameMenu, #MPstatusBarMenuName").click(function(n){n.preventDefault();$("#menu-make-rename").hasClass("disabled")?doAlert(108,null,4e3,!0):jQuery("#myRenameDialog").modal("show")});$("#myRenameDialog").on("shown",function(){$(".spanRenameInput").val($("#MPstatusBarMenuName").html().decodeEntities()).select();temp_saved_name=$(".spanRenameInput").val()});$("#dialog-rename-ok").click(function(n){n.preventDefault();$("#myRenameDialog").modal("hide");mp_predo("na");var t=$(".spanRenameInput").val().replace(/`/g,"'");allblanks(t)&&(t=temp_saved_name,$(".spanRenameInput").val(temp_saved_name),doAlert(136,null,2500,!0));jQuery("#MPstatusBarMenuName").text(t);t!="Untitled Menu"?$("#MPstatusBarMenuName").removeClass("untitledName"):$("#MPstatusBarMenuName").addClass("untitledName");save_menutitle()});$("#dialog-rename-help").on("click",function(){window.open("http://help.imenupro.com/getting-started.htm#menu-files")});jQuery("#myCopyMenu").click(function(n){n.preventDefault();$("#menu-make-copy").hasClass("disabled")?doAlert(108,null,4e3,!0):copy_menu()});saveclickinprogress=!1;$("#menu-save-me, #button-savemenu").click(function(n){(n.preventDefault(),saveclickinprogress)||(saveclickinprogress=!0,$("#menu-save-me").hasClass("disabled")?doAlert(234,null,9e3,!0):(doAlert(124,null,8e3,!0),save_menu("verbose")),setTimeout(function(){saveclickinprogress=!1},600))});var pagesetup_changed=!1,pagesetup_csschanged=!1,pagesetup_marginschanged=!1;jQuery("#dialog-page-size").on("change",function(n){var t=n.target.value=="Custom";resetPageCustomInput(t);pagesetup_changed=!0});$('[name="paperorientation"]').on("change",function(){pagesetup_changed=!0});jQuery("#dialog-page-custom_width,#dialog-page-custom_height").on("change",function(n){var t=numToNum(n.target.value,unitSI,"in",!0),r=n.target.id=="dialog-page-custom_width"?"5.5":"8.5",i=numCheck(t,"3.6","39",r,!0);i!=t&&jQuery("#"+n.target.id).val(numToNum(i,"in",unitSI));pagesetup_changed=!0});jQuery("#dialog-page-top,#dialog-page-bottom,#dialog-page-left,#dialog-page-right").on("change",function(n){var t=numToNum(n.target.value,unitSI,"in",!0),i=numCheck(t,"0","39",.75,!0);i!=t&&jQuery("#"+n.target.id).val(numToNum(i,"in",unitSI));pagesetup_changed=!0;pagesetup_csschanged=!0;pagesetup_marginschanged=!0;reset=""});jQuery("#dialog-page-ok").on("click",function(n){n.preventDefault();pagesetup_changed?(jQuery("#myPageSetup").modal("hide"),mp_predo("page",page_no),start_spinner(),disable_toolbar(),setTimeout(function(){resetPageDim("no_live_update");checkPageSetupMargin();storePageSetup(pagesetup_marginschanged);updatePageMarginGlobal("Pagesetup->[ok]");resetPageDim();resetColumnWidthGlobal();page_no>0?iMenuPro.draw_text(page_no):iMenuPro.draw_text();pagesetup_changed=!1;pagesetup_marginschanged=!1;reset=="reset_page_margins"&&(noOverride(".page-margins"),reset="");pagesetup_csschanged&&(leafd(),pagesetup_csschanged=!1)},minSpinOffload)):jQuery("#dialog-page-cancel").click()});jQuery("#dialog-page-cancel, #dialog-pagesetup-x").on("click",function(n){n.preventDefault();resetPageSetupMargins("useOverride");resetPageSetupPaper();pagesetup_changed=!1});$("#myPageSetup").keyup(function(n){n.which==27&&(resetPageSetupMargins("useOverride"),resetPageSetupPaper(),pagesetup_changed=!1)});jQuery("#dialog-pagesetup-help").on("click",function(){window.open("http://help.imenupro.com/getting-started.htm#page-setup")});$("#button-topdf,#menu-topdf").on("click",function(n){var r,t,i,u,f;n.preventDefault();$("#button-topdf").tooltip("hide");jQuery("#isJPGfile").val("0");$("#menu-make-print").hasClass("disabled")?(doAlert(108,null,4e3,!0),n.stopPropagation()):(make_rect_inactive(),!demoMenu&&(isIEEdge||$("#next-page-num").text()!=" "||$("#prev-page-num").text()!=" "||$("#dialog-setting-PDFDupe").prop("checked"))?(settings.menucover.is_visible&&settings.menucover.preview_only?$("#isCover").val("1"):$("#isCover").val("0"),r="",pdfWindow&&pdfWindow.close(),pdfWindow=window.open("","pdfWindow",r),isIE9||(t=pdfWindow.document.createElement("link"),t.rel="stylesheet",t.type="text/css",t.href="https://imenupro.com/SVG/mp-spinner.css",pdfWindow.document.getElementsByTagName("head")[0].appendChild(t),pdfWindow.document.body.style.fontFamily="'Segoe UI', Arial, 'Helvetica Neue', Helvetica, sans-serif",pdfWindow.document.body.style.fontStyle="Italic",pdfWindow.document.body.style.fontSize="15px",i=pdfWindow.document.createElement("div"),i.className="repage-spinner",i.setAttribute("id","div1"),u=pdfWindow.document.createTextNode("..."),i.appendChild(u),pdfWindow.document.body.insertBefore(i,null)),f=pdfWindow.document.createTextNode("     Creating PDF Menu page 1"),pdfWindow.document.body.appendChild(f),iMenuPro.print_all()):(settings.menucover.is_visible&&settings.menucover.preview_only?$("#isCover1").val("1"):$("#isCover1").val("0"),xmltopdf1()),make_rect_active())});$("#button-resetspacing").on("click",function(n){n.preventDefault();var t=JSON.parse(sessionStorage.getItem("menufile")),i=getMenuFilePageSpacing();i!=0?(fit_active||mp_predo("pagespacing_reset",page_no),t.pagesetup.pagespacing[page_no]=0,set_pagespacing(0),sessionStorage.setItem("menufile",JSON.stringify(t)),fit_active||doAlert(112,null,1800,!0),$("#button-resetspacing").tooltip("hide"),remove_extra_fooditem(),iMenuPro.cont_text(),makeColumns(),set_page_of_x()):fit_active||doAlert(228,null,2500,!0)});$("#button-expandspacing").on("click",function(n){var i,t;n.preventDefault();mp_predo("pagespacing_expand",page_no);i=JSON.parse(sessionStorage.getItem("menufile"));parseFloat(i.pagesetup.pagespacing[page_no])>=2?(doAlert(122,null,1800,!0),$("#button-expandspacing").tooltip("hide")):(camefrom_pagespacing_modal?(camefrom_pagespacing_modal=!1,t=new_page_spacing):t=parseFloat(i.pagesetup.pagespacing[page_no])+settings.imenupro.pagespacing_adj,t>2&&(t=2),set_pagespacing(t),i.pagesetup.pagespacing[page_no]=parseFloat(t).toFixed(2),sessionStorage.setItem("menufile",JSON.stringify(i)),remove_extra_fooditem(),makeColumns(),set_page_of_x())});$("#button-shrinkspacing").on("click",function(n){var i,t;n.preventDefault();mp_predo("pagespacing_shrink",page_no);i=JSON.parse(sessionStorage.getItem("menufile"));parseFloat(i.pagesetup.pagespacing[page_no])<=-.2?(doAlert(120,null,1800,!0),$("#button-shrinkspacing").tooltip("hide")):(camefrom_pagespacing_modal?(camefrom_pagespacing_modal=!1,t=new_page_spacing):t=parseFloat(i.pagesetup.pagespacing[page_no])-settings.imenupro.pagespacing_adj,t<-.2&&(t=-.2),i.pagesetup.pagespacing[page_no]=parseFloat(t).toFixed(2),set_pagespacing(t),sessionStorage.setItem("menufile",JSON.stringify(i)),remove_extra_fooditem(),iMenuPro.cont_text(),makeColumns(),set_page_of_x())});var page_spacing_on_shown=0,new_page_spacing=0,camefrom_pagespacing_modal=!1;jQuery("#myPageSpacingDialog").on("shown",function(){page_spacing_on_shown=parseFloat($("#exact-page-spacing").val())});$("#dialog-pagespacing-ok").on("click",function(n){n.preventDefault();$("#myPageSpacingDialog").modal("hide");new_page_spacing=parseFloat($("#exact-page-spacing").val()).toFixed(2);new_page_spacing=parseFloat(new_page_spacing);isNaN(new_page_spacing)?(new_page_spacing=page_spacing_on_shown,doAlert(92,null,4e3,!0)):new_page_spacing<-.2?(new_page_spacing=-.2,doAlert(92,null,4e3,!0)):new_page_spacing>2&&(new_page_spacing=2,doAlert(92,null,4e3,!0));page_spacing_on_shown!=new_page_spacing&&!isNaN(new_page_spacing)&&new_page_spacing>=-.2&&new_page_spacing<=2&&(new_page_spacing==0?$("#button-resetspacing").click():new_page_spacing<page_spacing_on_shown?(camefrom_pagespacing_modal=!0,$("#button-shrinkspacing").click()):new_page_spacing>page_spacing_on_shown?(camefrom_pagespacing_modal=!0,$("#button-expandspacing").click()):(new_page_spacing=0,$("#button-resetspacing").click()));new_page_spacing==0?$("#exact-page-spacing").val("0.0"):$("#exact-page-spacing").val(parseFloat(new_page_spacing).toFixed(2))});jQuery("#dialog-pagespacing-reset").on("click",function(){$("#exact-page-spacing").val("0.0")});$("#dialog-pagespacing-help").on("click",function(){window.open("http://help.imenupro.com/tools-settings.htm#page-spacing")});jQuery("#dialog-pagespacing-cancel,#dialog-pagespacing-x").on("click",function(){$("#myPageSpacingDialog").modal("hide");page_spacing_on_shown==0?$("#exact-page-spacing").val("0.0"):$("#exact-page-spacing").val(parseFloat(page_spacing_on_shown).toFixed(2))});$("#myPageSpacingDialog").keyup(function(n){n.which==27&&($("#myPageSpacingDialog").modal("hide"),page_spacing_on_shown==0?$("#exact-page-spacing").val("0.0"):$("#exact-page-spacing").val(parseFloat(page_spacing_on_shown).toFixed(2)))});jQuery("#myImportFoodItemsDialog").on("shown",function(){jQuery("#mp-quick-find").val("");searchFoodData()});jQuery("#mycsv_file").bind("ajax:complete",function(){});form_options={success:showResponse,error:showResponseError};jQuery("#mycsv_file").on("change",function(){return setTimeout(function(){$("#fileupload_filename").html()==""?resetInputForm():(jQuery("#mycsv_action").val("parse"),$("#mycsv_form").ajaxSubmit(form_options))},100),!1});last_fileuploaded="";jQuery("#dialog-importtext-ok").on("click",function(n){var t,i;if(n.preventDefault(),jQuery("#myImportFoodItemsDialog").modal("hide"),mp_predo("na"),$("#dialog-importtext-ok").hasClass("disabled"))resetInputForm();else{if(last_fileuploaded!=""&&$("#fileupload_filename").html()==last_fileuploaded&&(t=confirm("Heads up! It looks like you just uploaded this file. If you continue now you'll end with duplicates in your food list with no easy way to remove them. Are you OK with that?"),!t)){resetInputForm();return}last_fileuploaded=$("#fileupload_filename").html();doAlert(80,null,null,!0);i=jQuery("#access_token").val();jQuery("#mycsv_action").val("upload");jQuery("#mycsv_form").ajaxSubmit({success:showImportAlert,error:showImportError});resetInputForm()}});jQuery("#dialog-importtext-cancel,#dialog-importfoods-x").on("click",function(){jQuery("#myImportFoodItemsDialog").modal("hide");resetInputForm()});$("#myImportFoodItemsDialog").keyup(function(n){n.which==27&&(jQuery("#myImportFoodItemsDialog").modal("hide"),resetInputForm())});$("#dialog-importfoods-help").on("click",function(){window.open("http://help.imenupro.com/tools-settings.htm#import-food-items")});$("#menu-import-foodsa").on("click",function(n){n.preventDefault();$("#menu-import-foods").hasClass("disabled")?(doAlert(108,null,4e3,!0),n.stopPropagation()):isiPhoneIpad?(doAlert(338,null,4e3,!0),n.stopPropagation()):jQuery("#myImportFoodItemsDialog").modal("show")});fit_active=!1;$("#dialog-fit-ok").on("click",function(n){n.preventDefault();$("#myMakeMenuFitDialog").modal("hide");var t=!0;checkNewCol()&&(t=confirm("You have a heading that is set to start on a New Page or Column. To make it fit, this tweak must be removed. Are you OK with that?"));t&&($("#faux-outline").css("fill","white"),$("#mp-loading-text").html("Making your menu Fit to 1 page"),start_spinner2(),$("#myLoadingMenu").modal("show"),$("#fit-anime").show(),setTimeout(function(){mp_predo("fit",page_no);fit_active=!0;mainFIT()},minSpinOffloadStop))});$("#dialog-fit-help").on("click",function(){window.open("http://help.imenupro.com/tools-settings.htm#make-menu-fit")});$("#dialog-clearall-ok").on("click",function(n){n.preventDefault();jQuery("#myClearAllDialog").modal("hide");mp_predo("clearall",page_no);setPredoOptimizer(!0);start_spinner();setTimeout(function(){var t=!1,n=getItem("menufile"),i,r,u,e,f;if(jQuery("#mp-clearall-fttext").prop("checked")&&($("#floattext").children().remove(),t=!0,setPredoOptimizer(!1),delete n.float_text,n.float_text={ftxxx:{float_id:"ftxxx",page:"N",text:"Open 24",param:"0;none;left;(none);rgb(210, 180, 138);0.25;0.25;floating-text"}}),jQuery("#mp-clearall-images").prop("checked")){for(t=!0,i=paper.bottom;i;)i.remove(),i=paper.bottom,t=!0;delete n.float_images;n.float_images={order:[],"default":"id;url;x;y;width;height;flip;mirror"}}jQuery("#mp-clearall-binnumbers").prop("checked")&&(t=!0,setPredoOptimizer(!1),_.each(n.food_item,function(t,i){i!="order"&&i!="default"&&(n.food_item[i]=t.replace(/^((?:[^;]*;){2})([^;]*)(.*)$/,"$1$3"))}));jQuery("#mp-clearall-symbols").prop("checked")&&(t=!0,setPredoOptimizer(!1),_.each(n.food_item,function(t,i){i!="order"&&i!="default"&&(n.food_item[i]=t.replace(/([^\;]*\;){2}/,"none;none;"))}),_.each(n.head_item,function(t,i){i!="header"&&i!="default"&&(n.head_item[i]=t.replace(/([^\;]*\;){2}/,"none;none;"))}));jQuery("#mp-clearall-fiaccents").prop("checked")&&(setPredoOptimizer(!1),t=!0,_.each(n.food_item,function(t,i){i!="order"&&i!="default"&&(n.food_item[i]=t.replace(/^((?:[^;]*;){6})([^;]*)(.*)$/,"$1(none)$3"))}));jQuery("#mp-clearall-cuspacing").prop("checked")&&(t=!0,setPredoOptimizer(!1),_.each(n.food_item,function(t,i){i!="order"&&i!="default"&&(n.food_item[i]=t.replace(/^((?:[^;]*;){9})((?:[^;]*;)){3}(.*)$/,"$1Style;;;$3"))}),_.each(n.head_item,function(t,i){i!="header"&&i!="default"&&(n.head_item[i]=t.replace(/^((?:[^;]*;){9})(.*)$/,"$1Style;;"))}));r=0;$("#mp-clearall-fooditems").prop("checked")&&(t=!0,setPredoOptimizer(!1),jQuery("#joiner image").remove(),r="foodpos:"+parseInt(jQuery("#myFoodList ul").css("top")),u=_.filter(n.food_item.order,function(n){return n.indexOf("h")>-1}),e=_.difference(n.food_item.order,u),n.food_item.order=u,_.each(e,function(n){jQuery("#fooditem-"+n).removeClass("icon-on-menu").addClass("icon-off-menu")}));f=!1;$("#mp-clearall-fttext").prop("checked")||$("#mp-clearall-images").prop("checked")||$("#mp-clearall-binnumbers").prop("checked")||$("#mp-clearall-symbols").prop("checked")||$("#mp-clearall-fiaccents").prop("checked")||$("#mp-clearall-cuspacing").prop("checked")||$("#mp-clearall-fooditems").prop("checked")||$("#next-page-num").text()!=" "||Mobile==""||_.each(n.float_text,function(i,r){r!="ftxxx"&&n.float_text[r].page_no>page_no&&(delete n.float_text[r],t=!0,f=!0,doAlert(312,null,2500,!0))});t&&(setItem("menufile",n),predo_optimizer[mui-1]&&mui>=1?f||(doAlert(6,null,1600,!0),iMenuPro.drawto_text(page_no)):(setTimeout(function(){doAlert(6,null,1600,!0)},250),iMenuPro.draw_text(page_no)));setUndoFoodPos(r)},minSpinOffload);setTimeout(function(){stop_spinner()},minSpinOffloadStop)});jQuery("#dialog-clearall-help").on("click",function(){window.open("http://help.imenupro.com/tools-settings.htm#clear-all")});$("#menu-create-tt").on("click",function(n){if(n.preventDefault(),$("#menu-create-tt").hasClass("disabled"))demoMenu?doAlert(108,null,4e3,!0):doAlert(298,null,9e3,!0),n.stopPropagation();else{make_rect_inactive();settings.menucover.is_visible&&settings.menucover.preview_only?$("#isCover_tt").val("1"):$("#isCover_tt").val("0");settings.menucover.is_visible&&settings.menucover.preview_only?$("#isCover_tt2").val("1"):$("#isCover_tt2").val("0");var t=$('input[name="ttstyle"]:checked').val();xmltopdf_tt(t);make_rect_active()}});$("#dialog-tabletent-help").on("click",function(){window.open("http://help.imenupro.com/tools-settings.htm#create-table-tent")});$("#mp-print-note-btn").on("click",function(n){n.preventDefault();$("#mp-print-note-btn").tooltip("hide");$("#mp-print-note-btn").hasClass("disabled")?doAlert(108,null,4e3,!0):($("#mp-print-note-btn").tooltip("hide"),notetopdf())});$("#mp-create-facebook-png").on("click",function(n){var r,t,i,u,f;n.preventDefault();$("#menu-create-png").hasClass("disabled")?(doAlert(108,null,4e3,!0),n.stopPropagation()):(make_rect_inactive(),settings.menucover.is_visible&&settings.menucover.preview_only?$("#isCover").val("1"):$("#isCover").val("0"),r="",pdfWindow&&pdfWindow.close(),pdfWindow=window.open("","pdfWindow",r),isIE9||(t=pdfWindow.document.createElement("link"),t.rel="stylesheet",t.type="text/css",t.href="https://imenupro.com/SVG/mp-spinner.css",pdfWindow.document.getElementsByTagName("head")[0].appendChild(t),pdfWindow.document.body.style.fontFamily="'Segoe UI', Arial, 'Helvetica Neue', Helvetica, sans-serif",pdfWindow.document.body.style.fontStyle="Italic",pdfWindow.document.body.style.fontSize="15px",i=pdfWindow.document.createElement("div"),i.className="repage-spinner",i.setAttribute("id","div1"),u=pdfWindow.document.createTextNode("..."),i.appendChild(u),pdfWindow.document.body.insertBefore(i,null)),f=pdfWindow.document.createTextNode("     Creating JPG Menu page 1"),pdfWindow.document.body.appendChild(f),jQuery("#isJPGfile").val("1"),iMenuPro.print_all(),setTimeout(function(){make_rect_active()},20))});$("#menu-print-list").on("click",function(n){n.preventDefault();$("#menu-print-list").hasClass("disabled")?(doAlert(108,null,4e3,!0),n.stopPropagation()):$("#myPrintFoodItems").modal("show")});$("#mp-print-foodlist-btn").on("click",function(n){n.preventDefault();$("#mp-print-foodlist-btn").tooltip("hide");$("#mp-print-foodlist-btn").hasClass("disabled")?(doAlert(108,null,4e3,!0),n.stopPropagation()):(jQuery("#genpdf_myFoodItems").val(foodtostring()),jQuery("#genpdf-fi").submit())});$("#mp-export-foodlist-btn").on("click",function(n){if(n.preventDefault(),$("#mp-export-foodlist-btn").tooltip("hide"),$("#mp-export-foodlist-btn").hasClass("disabled"))doAlert(108,null,4e3,!0),n.stopPropagation();else if(isiPhoneIpad)doAlert(338,null,4e3,!0),n.stopPropagation();else{var t=window.onbeforeunload;jQuery("#genpdf_myExFoodItems").val(foodtostringEx());window.onbeforeunload=null;jQuery("#genex-fi").submit();setTimeout(function(){window.onbeforeunload=t},200)}});$("#dialog-printfooditems-x").on("click",function(n){n.preventDefault()});$("#myPrintFoodItems").keyup(function(n){n.which==27});$("#dialog-printfooditems-help").on("click",function(){window.open("http://help.imenupro.com/tools-settings.htm#print-food-items")});mobile_settings_changed=!1;$("#dialog-mobile-color, #dialog-mobile-tcolor, #more-no-titles, #more-no-prices, #more-no-ftext, #more-no-footer, #more-no-cols, #more-click-pics").on("change",function(){mobile_settings_changed=!0});$("#menu-create-mobile, #MPMobileIcon").on("click",function(n){var t,f,i,e,u;if(n.preventDefault(),demoMenu||$("#mp-publish-btn").removeClass("disabled"),$("#webmaster-email-address").val(""),$("#webmaster-email-address").removeClass("validationError"),$("#myMobileMenuModal").modal("show"),Mobile!=""){if(jQuery("#mobile-dothis").show(),jQuery("#mobile-embed").show(),jQuery("#mobile-sendto").show(),jQuery("#mp-live-sync").prop("checked",parseInt(Mobile.sync)==1),$("#mp-live-sync").prop("disabled",!1),$("#live-sync-text").removeClass("muted"),jQuery("#mp-mobile-appearance").val(Mobile.appearance),jQuery("#dialog-mobile-color").spectrum("set",Mobile.color),Mobile.changetcolor?($("#mp-change-tcolor").prop("checked",!0),jQuery("#dialog-mobile-tcolor").spectrum("enable"),jQuery("#dialog-mobile-tcolor").spectrum("set",Mobile.tcolor)):($("#mp-change-tcolor").prop("checked",!1),jQuery("#dialog-mobile-tcolor").spectrum("set","rgb(0,0,0)"),jQuery("#dialog-mobile-tcolor").spectrum("disable")),$("#more-no-titles").prop("checked",parseInt(Mobile.notitles)==1),$("#more-no-prices").prop("checked",parseInt(Mobile.noprices)==1),$("#more-no-ftext").prop("checked",parseInt(Mobile.noftext)==1),$("#more-no-footer").prop("checked",parseInt(Mobile.nofooter)==1),$("#more-no-cols").prop("checked",parseInt(Mobile.nocols)==1),$("#more-click-pics").prop("checked",parseInt(Mobile.clickpics)==1),_.isEmpty(Mobile.published+"")||_.isEmpty(Mobile.shorturl))Mobile.appearance=="match"&&(i=getItem("origCSS"),e=getItem("override.css"),jQuery.extend(!0,i,e),(i[".heading"].fill.toLowerCase()=="rgb(255, 255, 255)"||i[".heading"].fill.toLowerCase()=="#fff"||i[".heading"].fill.toLowerCase()=="#fffff")&&jQuery("#dialog-mobile-color").spectrum("set","rgb(0,0,0)")),jQuery("#mp-mobile-updated").text("Not synced yet"),jQuery("#mp-mobile-embedcode").text('Click on "Sync Now" to generate the code'),u="https://twitter.com/intent/tweet?text=Check%20out%20our%20new%20menu&url=https://imenupro.com/@",jQuery("#mp-tweet-btn").attr("href",u);else{t=new Date(parseInt(Mobile.published));f=t.toString().slice(4,7)+"-"+t.getDate()+"-"+t.getFullYear()+"  "+t.toLocaleTimeString().replace(/((?:[^\:]*\:[^\:]*))(.*)( .*)$/,"$1$3");jQuery("#mp-mobile-updated").text(f);var r=Mobile.shorturl.replace(/^.*\/([^\/.]+)+\.js/,"$1"),o='<script id="'+r+'" type="text/javascript" src="https://imenupro.com/!'+r+'"> <\/script>',s=encodeURIComponent(twitter_arr[twitter_cnt%twitter_arr.length]),u="https://twitter.com/intent/tweet?text="+s+"%20our%20new%20menu&url=https://imenupro.com/@"+r;jQuery("#mp-mobile-embedcode").text(o);jQuery("#mp-tweet-btn").attr("href",u)}$("#mp-live-sync").prop("checked")&&$("#mp-publish-btn").addClass("disabled");Mobile.appearance=="match"||jQuery("#iframe-iphone").contents().find("head").find("style").remove()}else reset_mobileUI("MobileMenu");createHTML(createJSON());Mobile.appearance=="match"&&jQuery("#iframe-iphone").contents().find("head").append("<style>"+createCSS()+"<\/style>");Mobile==""&&$("#mp-mobile-appearance").trigger("change")});$("#mp-publish-btn").on("click",function(n){n.preventDefault();$("#mp-publish-btn").hasClass("disabled")?(demoMenu?doAlert(108,null,4e3,!0):doAlert(250,null,9e3,!0),n.stopPropagation()):(setMobileUI="sync",sync_html("verbose"),jQuery("#mobile-dothis").show(),jQuery("#mobile-embed").show(),jQuery("#mobile-sendto").show(),$("#mp-live-sync").prop("disabled",!1),$("#live-sync-text").removeClass("muted"),check_mobile_icon("sync"))});$("#mp-email-webmaster-btn").on("click",function(n){if(n.preventDefault(),$("#mp-email-webmaster-btn").hasClass("disabled"))doAlert(108,null,4e3,!0),n.stopPropagation();else if($("#webmaster-email-address").is(":invalid"))doAlert(30,null,5e3,!0);else{var t=jQuery("#access_token").val(),i=jQuery("#webmaster-email-address").val(),r=jQuery("#mp-mobile-embedcode").text(),u="/api/webmaster/"+t+"/"+Date.now();jQuery.ajax({timeout:12e3,type:"POST",url:u,dataType:"json",data:{email:i,embed:r},success:function(n){n.status=="OK"?doAlert(248,null,2500,!0):doAlert(252,null,12e3,!0)},error:function(n,t){t=="timeout"||n.responseJSON==undefined?(doAlert(254,null,9e3,!0),console.log("Connection seems dead! (send webmaster email)")):n.responseJSON.error=="invalid_client"?(doAlert(256,null,9e3,!0),console.log("Token has expired! (send webmaster email)")):(doAlert(258,null,9e3,!0),console.log("Something failed on server! (send webmaster email)"))}});doAlert(260,null,12e3,!0);$("#myMobileMenuModal").modal("hide")}});$("#mp-tweet-btn").on("click",function(n){if(n.preventDefault(),$("#mp-email-webmaster-btn").hasClass("disabled"))doAlert(108,null,4e3,!0),n.stopPropagation();else{var t=Mobile.shorturl.replace(/^.*\/([^\/.]+)+\.js/,"$1"),i=encodeURIComponent(twitter_arr[twitter_cnt%twitter_arr.length]),r="https://twitter.com/intent/tweet?text="+i+"%20our%20new%20menu&url=https://imenupro.com/@"+t;jQuery("#mp-tweet-btn").attr("href",r);++twitter_cnt>3&&(twitter_cnt=0)}});jQuery("#mp-mobile-appearance").on("change",function(){createHTML(createJSON());var n=jQuery("#mp-mobile-appearance").val();jQuery("#iframe-iphone").contents().find("html").find("link").attr("href","mobile/"+n+".css");mobile_settings_changed=!0;n=="match"?(jQuery("#iframe-iphone").contents().find("head").append("<style>"+createCSS()+"<\/style>"),Mobile.published!=""):jQuery("#iframe-iphone").contents().find("head").find("style").remove()});jQuery("#mp-change-tcolor").on("change",function(){$("#mp-change-tcolor").prop("checked")?(jQuery("#dialog-mobile-tcolor").spectrum("enable"),injectAppearnceCSS()):(jQuery("#dialog-mobile-tcolor").spectrum("set","rgb(0,0,0)"),jQuery("#dialog-mobile-tcolor").spectrum("disable"),injectAppearnceCSS());mobile_settings_changed=!0});jQuery("#mp-live-sync").on("change",function(){$("#mp-live-sync").prop("checked")&&Mobile!=""?$("#mp-publish-btn").addClass("disabled"):$("#mp-publish-btn").removeClass("disabled");mobile_settings_changed=!0});$("#mp-mobile-view-iphone").on("click",function(n){n.preventDefault();$("#mp-mobile-preview").removeClass("DesktopPreviewBorder");$("#mp-mobile-preview").addClass("MobilePreviewBorder");setTimeout(function(){$("#myMobileMenuModal").css("width","708px")},120)});$("#mp-mobile-view-desktop").on("click",function(n){n.preventDefault();$("#myMobileMenuModal").css("width","973px");$("#mp-mobile-preview").removeClass("MobilePreviewBorder");$("#mp-mobile-preview").addClass("DesktopPreviewBorder")});$("#dialog-mobile-ok").on("click",function(n){n.preventDefault();mobile_settings_changed&&Mobile!=""&&save_mobile("quiet");mobile_settings_changed=!1;closeMoreMobile()});$("#dialog-mobile-x").on("click",function(n){n.preventDefault();mobile_settings_changed=!1;closeMoreMobile()});$("#myMobileMenuModal").keyup(function(n){n.which==27&&(mobile_settings_changed=!1,closeMoreMobile())});$("#dialog-mobile-help").on("click",function(){window.open("http://help.imenupro.com/tools-settings.htm#mobile-menus")});$("#mp-more-mobile").on("click",function(n){n.preventDefault();$("#mobile-more").is(":visible")?closeMoreMobile():($("#mobile-less").addClass("hide"),$("#mobile-more").removeClass("hide"),$("#more-text").text("less....."))});$("#more-no-titles, #more-no-prices, #more-no-ftext, #more-no-footer, #more-no-cols").on("change",function(){injectAppearnceCSS()});$("#more-click-pics").on("change",function(){createHTML(createJSON());$("#mp-mobile-appearance").val()=="match"&&jQuery("#iframe-iphone").contents().find("head").append("<style>"+createCSS()+"<\/style>");injectAppearnceCSS()});$("#dialog-autobin-ok").on("click",function(n){n.preventDefault();$("#myAutoBinNumberDialog").modal("hide");mp_predo("autobin",page_no);start_spinner();setTimeout(function(){var n=getItem("menufile"),t=jQuery("#mp-autobin-startnumber").val(),r=jQuery("#mp-autobin-prefix").val().decodeEntities(),i=jQuery("#mp-autobin-period").prop("checked"),u=jQuery("#mp-autobin-leavebinalone").prop("checked"),f=_.filter(n.food_item.order,function(n){return n.indexOf("h")==-1});t=isNaN(t)?1:parseInt(t);i=i?".":"";_.each(f,function(f){var e=n.food_item[f].replace(/^((?:[^;]*;){2})([^;]*)(.*)$/,"$2");u&&e!=""||(n.food_item[f]=n.food_item[f].replace(/^((?:[^;]*;){2})([^;]*)(.*)$/,"$1"+r+""+t+i+"$3"),t+=1)});setItem("menufile",n);iMenuPro.draw_text(page_no)},minSpinOffload)});$("#dialog-autobin-help").on("click",function(){window.open("http://help.imenupro.com/tools-settings.htm#auto-bin-number")});jQuery("#mp-autobin-startnumber").on("change",function(){var n=jQuery("#mp-autobin-startnumber").val(),t=numCheck(n,"1","889","1",!1);n!=t+""&&jQuery("#mp-autobin-startnumber").val(t)});$("#menu-create-giftcert").on("click",function(n){n.preventDefault();$("#myGiftCertificateCreator").modal("show");certMenu.cert_logo.image!=""&&certMenu.cert_logo.image!="bootstrap/img/68x51b.png"?(jQuery("#myUploadPreviewCE img").attr("src",certMenu.cert_logo.image),editImage=certMenu.cert_logo.image,$("#jansyUploadWellCE").hide(),$("#jansyRemoveWellCE").show(),$("#mp-certlogostate").removeClass("mp-newphoto"),$("#mp-certlogostate").addClass("mp-editphoto")):(jQuery("#myUploadPreviewFI img").attr("src","bootstrap/img/68x51b.png"),editImage="",$("#jansyUploadWellCE").show(),$("#jansyRemoveWellCE").hide(),$("#mp-certlogostate").addClass("mp-newphoto"),$("#mp-certlogostate").removeClass("mp-editphoto"))});$("#dialog-giftcert-help").on("click",function(){window.open("http://help.imenupro.com/tools-settings.htm#create-gift-certificate")});$("#certFooter").on("click",function(n){n.preventDefault();$("#mp-cert-fineprint").focus();doAlert(300,null,6e3,!0,"top-left")});$("#mp-print-cert-btn").on("click",function(n){n.preventDefault();var t=$("#myUploadPreviewCEUPLOAD img").attr("src");t!=undefined&&t.match("data:")&&t.length>2799643?doAlert(342,null,6e3,!0):$("#mp-print-cert-btn").hasClass("disabled")?(demoMenu?doAlert(108,null,4e3,!0):doAlert(298,null,9e3,!0),n.stopPropagation()):(make_rect_inactive(),xmltopdf_gc(),make_rect_active())});jQuery("#mp-cert-background").on("change",function(){loadCertPaperColor();certBackground()});$("#mp-imgupload-btnCE").on("click",function(n){demoMenu&&$("#mp-imgupload-btnCE").hasClass("disabled")?(n.preventDefault(),doAlert(108,null,4e3,!0)):isIE9&&(n.preventDefault(),doAlert(292,null,7e3,!0))});jQuery("#myUploadPreviewCE, #certImage").on("click",function(n){n.preventDefault();$("#myUploadPreviewCE").addClass("dont_select_ptr");$("#mp-imgupload-deletepanelCE").is(":visible")||($("#mp-giftcert-footer").hide(),$("#mp-ce-certmap").hide(),$("#jansyUploadWellCE").hide(),$("#jansyRemoveWellCE").hide(),$("#mp-ce-photomap, #mp-up-browse-noteCE").show(),$("#mp-imgupload-deletepanelCE").hide(),$("#mp-up-trash-divCE").show(),$("#myUploadPreviewCE img").attr("src")!="bootstrap/img/68x51b.png"||$("#jansyRemoveWellCE").hide(),$("#mp-imgupload-trashcanCE").hide())});jQuery("#mp-imgupload-selectCE").on("click",function(n){n.preventDefault();$("#mp-ce-photomap, #mp-up-browse-noteCE").hide();$("#jansyRemoveWellCE").show();$("#myUploadPreviewCE").removeClass("dont_select_ptr");$("#mp-giftcert-footer").show();$("#mp-ce-certmap").show();resetUISearchCE();certPics();$("#myUploadPreviewCE img").attr("src")=="bootstrap/img/68x51b.png"&&($("#jansyUploadWellCE").show(),$("#jansyRemoveWellCE").hide())});jQuery("#mp-ce-img-remove").on("click",function(n){n.preventDefault();$("#jansyRemoveWellCE").hide();jQuery("#jansy-img-uploadCE").fileupload("reset");$("#jansyUploadWellCE").show();jQuery("#myUploadPreviewCE").html('<img src="" >');jQuery("#myUploadPreviewCE img").attr("src","bootstrap/img/68x51b.png");$("#myUploadImgListCE").megalist("setSelectedIndexMove",-1);certPics()});jQuery("#mp-imgupload-remove-btnCE").click(function(){setTimeout(function(){drawUserImageCE("bootstrap/img/68x51b.png","")},100)});jQuery("#mp-imgupload-trashcanCE").on("click",function(n){n.preventDefault();$("#jansyUploadWellCE").hide();$("#mp-ce-useimg-div").hide();$("#mp-ce-useimg-hr").hide();$("#mp-up-browse-noteCE").hide();$("#mp-imgupload-findCE").hide();$("#mp-up-trash-divCE").hide();$("#mp-imgupload-trashcanCE").hide();$("#mp-imgupload-deletepanelCE").show()});jQuery("#mp-imgupload-cancel-selectCE").on("click",function(){editImage==""&&$("#mp-certlogostate").hasClass("mp-editphoto")&&$("#myUploadPreviewCE img").attr("src")=="bootstrap/img/68x51b.png"?(drawUserImageCE("bootstrap/img/68x51b.png",""),$("#jansyRemoveWellCE").hide(),$("#jansyUploadWellCE").show(),$("#mp-certlogostate").addClass("mp-newphoto"),$("#mp-certlogostate").removeClass("mp-editphoto"),certPics()):(editImage&&jQuery("#myUploadPreviewCE img").attr("src",editImage),$("#mp-certlogostate").hasClass("mp-newphoto")?(drawUserImageCE("bootstrap/img/68x51b.png",""),$("#jansyRemoveWellCE").hide(),$("#jansyUploadWellCE").show(),certPics()):($("#jansyUploadWellCE").hide(),$("#jansyRemoveWellCE").show(),certPics()));$("#mp-ce-photomap, #mp-up-browse-noteCE").hide();$("#mp-imgupload-trashcanCE").hide();$("#myUploadPreviewCE").removeClass("dont_select_ptr");$("#mp-giftcert-footer").show();$("#mp-ce-certmap").show();$("#myUploadImgListCE").megalist("setSelectedIndexMove",-1);resetUISearchCE()});jQuery("#mp-imgupload-cancelbtnCE,#mp-imgupload-deletebtnCE").on("click",function(n){var i,r;if(n.preventDefault(),n.target.id=="mp-imgupload-deletebtnCE"){if(nosaveMenu){doAlert("No delete image with No Save","info",1500,!0);return}var u=jQuery("#access_token").val(),t=jQuery("#myUploadPreviewCE img").attr("class"),f=jQuery("#myUploadPreviewCE img").attr("src");t!=undefined&&($("#mp-imgupload-trashcanCE").hide(),doAlert(326,"",5e3,!0),i=t.replace(/image-/g,""),r="/api/image/"+i+"/"+u+"/"+Date.now(),jQuery.ajax({url:r,type:"DELETE",dataType:"json",success:function(n){if(n.status=="OK"){$("#mp-acct-images").text(parseInt($("#mp-acct-images").text())-1);$("#myUploadPreviewCE img").attr("src")==editImage?(editImage="",drawUserImageCE("bootstrap/img/68x51b.png","")):$("#mp-certlogostate").hasClass("mp-editphoto")&&editImage!=""?setTimeout(function(){drawUserImageCE(editImage,t)},100):drawUserImageCE("bootstrap/img/68x51b.png","");image_delete_fooditem(t,f);image_delete(t);certMenu.cert_logo.image="bootstrap/img/68x51b.png";certMenu.cert_logo.idx="none";var i=getItem("certMenuRestore");i.cert_logo.image="bootstrap/img/68x51b.png";i.cert_logo.idx="none";setItem("certMenuRestore",i);doAlert(6,null,1e3,!0);importImageData()}else doAlert(86,null,0,!0)}}))}else $("#mp-imgupload-trashcanCE").show();$("#mp-imgupload-deletepanelCE").hide();$("#mp-ce-useimg-div").show();$("#mp-ce-useimg-hr").show();$("#mp-up-browse-noteCE").show();$("#mp-imgupload-findCE").show();$("#mp-up-trash-divCE").show();$("#mp-ce-photomap, #mp-up-browse-noteCE").hide();$("#mp-imgupload-searchCE").show();$("#myUploadImgListCE").show();$("#mp-imgupload-cancel-selectCE").show();$("#mp-imgupload-selectCE").show();$("#mp-ce-photomap, #mp-up-browse-noteCE").show()});jQuery("#mp-imgupload-findCE").keyup(function(n){var i,t;n.which==13&&n.preventDefault();i=jQuery("#mp-imgupload-findCE").val();i.length>1?(t=_.filter(imageData,function(n){var t=n.filename.toLowerCase();return t.indexOf(i.toLowerCase())>-1}),jQuery("#myUploadImgListCE").addClass("bluehalo"),$("#myUploadImgListCE").megalist("setSelectedIndexMove",-1)):(t=imageData,jQuery("#myUploadImgListCE").removeClass("bluehalo"));fixImageDataCE(t,"search");$("#myUploadImgListCE").megalist("setDataProvider",t)});jQuery("#file-imguploadCE").on("change",function(){var n=jQuery("#file-imguploadCE").val();bmpTestWarn(n)});jQuery("#myUploadImgListCE").on("change",function(n){var t=jQuery(n.srcElement.get()[0].innerHTML).attr("url"),i=jQuery(n.srcElement.get()[0].innerHTML).attr("idx");drawUserImageCE(t,i);$("#mp-imgupload-trashcanCE").show()});jQuery("#dialog-giftcert-x").on("click",function(n){n.preventDefault();certMenu=getItem("certMenuRestore");resetUploadCertLogoUI()});$("#myGiftCertificateCreator").keyup(function(n){n.which==27&&(certMenu=getItem("certMenuRestore"),resetUploadCertLogoUI())});$("#myAboutiMenuProDialog").on("shown",function(){$("#mp-version-num").text("Version: "+imp_version);var n=getItem("menufile");$("#mp-cmenu-id").text(parseInt(n.menuID)+" ("+menuVer+")")})
//# sourceMappingURL=mp-account-tools.map
